!function(){"use strict";function e(e,t,n){var s=this;s.subjectElementDefaults={},s.sendStateElementDefaults={},s.receiveStateElementDefaults={},s.functionStateElementDefaults={},s.messageConnectorElementDefaults={},s.init=function(){s.subjectElementDefaults=n.getSubjectElementDefaults(),s.sendStateElementDefaults=n.getSendStateElementDefaults(),s.receiveStateElementDefaults=n.getReceiveStateElementDefaults(),s.functionStateElementDefaults=n.getFunctionStateElementDefaults(),s.messageConnectorElementDefaults=n.getMessageConnectorElementDefaults()},s.highlightElement=function(e){"sid.SubjectElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".sb-remove-btn").css({visibility:"visible"}),e.$box.find(".sb-connector-btn").css({visibility:"visible"})):"sid.MessageConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".msg-remove-btn").css({visibility:"visible"})):"sbd.SendStateElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".ss-remove-btn").css({visibility:"visible"}),e.$box.find(".ss-connector-btn").css({visibility:"visible"})):"sbd.ReceiveStateElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".rs-remove-btn").css({visibility:"visible"}),e.$box.find(".rs-connector-btn").css({visibility:"visible"})):"sbd.FunctionStateElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".fs-remove-btn").css({visibility:"visible"}),e.$box.find(".fs-connector-btn").css({visibility:"visible"})):"sbd.FromSendStateConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".fss-remove-btn").css({visibility:"visible"})):"sbd.FromReceiveStateConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".frs-remove-btn").css({visibility:"visible"})):"sbd.FromFunctionStateConnectorElement"===e.model.get("type")&&(e.model.toFront(),e.$box.css({border:"1px dashed #000000"}),e.$box.find(".ffs-remove-btn").css({visibility:"visible"}))},s.unhighlightElement=function(e){"sid.SubjectElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".sb-remove-btn").css({visibility:"hidden"}),e.$box.find(".sb-connector-btn").css({visibility:"hidden"})):"sid.MessageConnectorElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".msg-remove-btn").css({visibility:"hidden"})):"sbd.SendStateElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".ss-remove-btn").css({visibility:"hidden"}),e.$box.find(".ss-connector-btn").css({visibility:"hidden"})):"sbd.ReceiveStateElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".rs-remove-btn").css({visibility:"hidden"}),e.$box.find(".rs-connector-btn").css({visibility:"hidden"})):"sbd.FunctionStateElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".fs-remove-btn").css({visibility:"hidden"}),e.$box.find(".fs-connector-btn").css({visibility:"hidden"})):"sbd.FromSendStateConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"none"}),e.$box.find(".fss-remove-btn").css({visibility:"hidden"})):"sbd.FromReceiveStateConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"none"}),e.$box.find(".frs-remove-btn").css({visibility:"hidden"})):"sbd.FromFunctionStateConnectorElement"===e.model.get("type")&&(e.model.toFront(),e.$box.css({border:"none"}),e.$box.find(".ffs-remove-btn").css({visibility:"hidden"}))},s.unhighlightAll=function(e){e.forEach(function(e){"sid.SubjectElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".sb-remove-btn").css({visibility:"hidden"}),e.$box.find(".sb-connector-btn").css({visibility:"hidden"})):"sid.MessageConnectorElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".msg-remove-btn").css({visibility:"hidden"})):"sbd.SendStateElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".ss-remove-btn").css({visibility:"hidden"}),e.$box.find(".ss-connector-btn").css({visibility:"hidden"})):"sbd.ReceiveStateElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".rs-remove-btn").css({visibility:"hidden"}),e.$box.find(".rs-connector-btn").css({visibility:"hidden"})):"sbd.FunctionStateElement"===e.model.get("type")?(e.$box.css({border:"none"}),e.$box.find(".fs-remove-btn").css({visibility:"hidden"}),e.$box.find(".fs-connector-btn").css({visibility:"hidden"})):"sbd.FromSendStateConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"none"}),e.$box.find(".fss-remove-btn").css({visibility:"hidden"})):"sbd.FromReceiveStateConnectorElement"===e.model.get("type")?(e.model.toFront(),e.$box.css({border:"none"}),e.$box.find(".frs-remove-btn").css({visibility:"hidden"})):"sbd.FromFunctionStateConnectorElement"===e.model.get("type")&&(e.model.toFront(),e.$box.css({border:"none"}),e.$box.find(".ffs-remove-btn").css({visibility:"hidden"}))})},t.shapes.sid={},t.shapes.sid.SubjectElement=t.shapes.basic.Rect.extend({defaults:t.util.deepSupplement({type:"sid.SubjectElement"},t.shapes.basic.Rect.prototype.defaults)}),t.shapes.sid.SubjectElementView=t.dia.ElementView.extend({template:['<div class="subject-element">','<div class="subject-element-inner">','<div class="sb-name"></div>','<button class="sb-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>','<button class="sb-connector-btn"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateBox"),t.dia.ElementView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.find(".sb-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateBox,this),this.model.on("remove",this.removeBox,this),this.updateBox()},render:function(){return t.dia.ElementView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox(),t=this.model.get("z"),n=this.$box.find(".sb-name");n.text(o(this.model.get("customAttrs").name,90)),this.$box.css({width:e.width+10,height:e.height+10,left:e.x-5,top:e.y-5,"z-index":t}),this.$box.find(".subject-element-inner").css({position:"fixed",left:e.x,top:e.y}),n.css({position:"fixed",left:e.x+e.width/2-n.width()/2,top:e.y+e.height/2-n.height()/2})},removeBox:function(e){this.$box.remove()}}),s.subjectElement=function(e){return e=e||s.subjectElementDefaults,new t.shapes.sid.SubjectElement(e)},t.shapes.sid.MessageConnectorElement=t.dia.Link.extend({defaults:t.util.deepSupplement({type:"sid.MessageConnectorElement"},t.dia.Link.prototype.defaults)}),t.shapes.sid.MessageConnectorElementView=t.dia.LinkView.extend({template:['<div class="message-connector-element">','<div class="message-connector-element-inner">','<div class="msg-unidirectional"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></div>','<div class="msg-bidirectional">','<div class="msg-bidirectional-right"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></div>','<div class="msg-bidirectional-left"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></div>',"</div>",'<button class="msg-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateConnector"),t.dia.LinkView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.on("click",_.bind(this.onClick,this)),this.$box.find(".msg-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateConnector,this),this.model.on("remove",this.removeBox,this),this.updateConnector()},onClick:function(e){var t=this.paper.snapToGrid({x:e.originalEvent.x,y:e.originalEvent.y});this.pointerdown(e,t.x,t.y),this.model.attributes.vertices=[],this.update(),this.updateConnector()},render:function(){return t.dia.LinkView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateConnector(),this},updateConnector:function(){var e=(this.getBBox(),this.model.get("z")),t=this.$box.find(".msg-unidirectional"),n=this.$box.find(".msg-bidirectional"),s=this.$box.find(".msg-bidirectional-right"),o=this.$box.find(".msg-bidirectional-left");this.model.get("customAttrs").isBidirectional?(n.css({visibility:"visible"}),t.css({visibility:"hidden"}),this.model.attr({".marker-source":{fill:"#000000",d:"M 10 0 L 0 5 L 10 10 z"}})):(n.css({visibility:"hidden"}),t.css({visibility:"visible"}),this.model.removeAttr(".marker-source"));var i={x:0,y:0};if("undefined"!=typeof this._V){var a=this.$(".connection")[0],r=a.getTotalLength();i=a.getPointAtLength(r/2)}this.$box.css({width:90,height:60,left:i.x-45,top:i.y-30,"z-index":e}),this.$box.find(".message-connector-element-inner").css({position:"fixed",left:i.x-40,top:i.y-25}),t.css({position:"fixed",left:i.x-t.width()/2,top:i.y-t.height()/2}),n.css({position:"fixed",left:i.x-t.width()/2,top:i.y-t.height()/2}),s.css({position:"fixed",left:i.x-s.width()/2+10,top:i.y-s.height()/2-7}),o.css({position:"fixed",left:i.x-o.width()/2-10,top:i.y-o.height()/2+7})},removeBox:function(e){this.$box.remove()}}),s.messageConnectorElement=function(e){return new t.shapes.sid.MessageConnectorElement(e)},t.shapes.sbd={},t.shapes.sbd.SendStateElement=t.shapes.basic.Rect.extend({defaults:t.util.deepSupplement({type:"sbd.SendStateElement"},t.shapes.basic.Rect.prototype.defaults)}),t.shapes.sbd.SendStateElementView=t.dia.ElementView.extend({template:['<div class="send-state-element">','<div class="send-state-element-inner">','<div class="ss-icon-box">','<div class="ss-icon"></div>','<div class="ss-start-icon"><i class="fa fa-play-circle-o" aria-hidden="true"></i></div>','<div class="ss-end-icon"><i class="fa fa-stop-circle-o" aria-hidden="true"></i></div>',"</div>",'<span class="ss-name"></span>','<button class="ss-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>','<button class="ss-connector-btn"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateBox"),t.dia.ElementView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.find(".ss-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateBox,this),this.model.on("remove",this.removeBox,this),this.updateBox()},render:function(){return t.dia.ElementView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox(),t=this.model.get("z"),n=this.$box.find(".ss-name"),s=this.$box.find(".ss-icon-box"),i=this.$box.find(".ss-icon"),a=this.$box.find(".ss-start-icon"),r=this.$box.find(".ss-end-icon");n.text(o(this.model.get("customAttrs").name,50)),this.model.get("customAttrs").startState?(a.css("visibility","visible"),r.css("visibility","hidden")):this.model.get("customAttrs").endState?(a.css("visibility","hidden"),r.css("visibility","visible")):(a.css("visibility","hidden"),r.css("visibility","hidden")),this.$box.css({width:e.width+10,height:e.height+10,left:e.x-5,top:e.y-5,"z-index":t}),this.$box.find(".send-state-element-inner").css({position:"fixed",left:e.x,top:e.y}),n.css({position:"fixed",left:e.x+e.width/2-n.width()/2,top:e.y+e.height/2-10}),s.css({position:"fixed",left:e.x+10,top:e.y+10}),i.css({position:"fixed",left:e.x+15,top:e.y+22}),a.css({position:"fixed",left:e.x+170,top:e.y}),r.css({position:"fixed",left:e.x+170,top:e.y})},removeBox:function(e){this.$box.remove()}}),s.sendStateElement=function(e){return e=e||s.sendStateElementDefaults,new t.shapes.sbd.SendStateElement(e)},t.shapes.sbd.ReceiveStateElement=t.shapes.basic.Rect.extend({defaults:t.util.deepSupplement({type:"sbd.ReceiveStateElement"},t.shapes.basic.Rect.prototype.defaults)}),t.shapes.sbd.ReceiveStateElementView=t.dia.ElementView.extend({template:['<div class="receive-state-element">','<div class="receive-state-element-inner">','<div class="rs-icon-box">','<div class="rs-icon"></div>','<div class="rs-start-icon"><i class="fa fa-play-circle-o" aria-hidden="true"></i></div>','<div class="rs-end-icon"><i class="fa fa-stop-circle-o" aria-hidden="true"></i></div>',"</div>",'<span class="rs-name"></span>','<button class="rs-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>','<button class="rs-connector-btn"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateBox"),t.dia.ElementView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.find(".rs-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateBox,this),this.model.on("remove",this.removeBox,this),this.updateBox()},render:function(){return t.dia.ElementView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox(),t=this.model.get("z"),n=this.$box.find(".rs-name"),s=this.$box.find(".rs-icon-box"),i=this.$box.find(".rs-icon"),a=this.$box.find(".rs-start-icon"),r=this.$box.find(".rs-end-icon");n.text(o(this.model.get("customAttrs").name,50)),this.model.get("customAttrs").startState?(a.css("visibility","visible"),r.css("visibility","hidden")):this.model.get("customAttrs").endState?(a.css("visibility","hidden"),r.css("visibility","visible")):(a.css("visibility","hidden"),r.css("visibility","hidden")),this.$box.css({width:e.width+10,height:e.height+10,left:e.x-5,top:e.y-5,"z-index":t}),this.$box.find(".receive-state-element-inner").css({position:"fixed",left:e.x,top:e.y}),n.css({position:"fixed",left:e.x+e.width/2-n.width()/2,top:e.y+e.height/2-10}),s.css({position:"fixed",left:e.x+10,top:e.y+16}),i.css({position:"fixed",left:e.x+15,top:e.y+10}),a.css({position:"fixed",left:e.x+170,top:e.y}),r.css({position:"fixed",left:e.x+170,top:e.y})},removeBox:function(e){this.$box.remove()}}),s.receiveStateElement=function(e){return e=e||s.receiveStateElementDefaults,new t.shapes.sbd.ReceiveStateElement(e)},t.shapes.sbd.FunctionStateElement=t.shapes.basic.Rect.extend({defaults:t.util.deepSupplement({type:"sbd.FunctionStateElement"},t.shapes.basic.Rect.prototype.defaults)}),t.shapes.sbd.FunctionStateElementView=t.dia.ElementView.extend({template:['<div class="function-state-element">','<div class="function-state-element-inner">','<div class="fs-icon-box">','<div class="fs-icon"></div>','<div class="fs-start-icon"><i class="fa fa-play-circle-o" aria-hidden="true"></i></div>','<div class="fs-end-icon"><i class="fa fa-stop-circle-o" aria-hidden="true"></i></div>',"</div>",'<span class="fs-name"></span>','<button class="fs-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>','<button class="fs-connector-btn"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateBox"),t.dia.ElementView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.find(".fs-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateBox,this),this.model.on("remove",this.removeBox,this),this.updateBox()},render:function(){return t.dia.ElementView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox(),t=this.model.get("z"),n=this.$box.find(".fs-name"),s=this.$box.find(".fs-icon-box"),i=this.$box.find(".fs-icon"),a=this.$box.find(".fs-start-icon"),r=this.$box.find(".fs-end-icon");n.text(o(this.model.get("customAttrs").name,50)),this.model.get("customAttrs").startState?(a.css("visibility","visible"),r.css("visibility","hidden")):this.model.get("customAttrs").endState?(a.css("visibility","hidden"),r.css("visibility","visible")):(a.css("visibility","hidden"),r.css("visibility","hidden")),this.$box.css({width:e.width+10,height:e.height+10,left:e.x-5,top:e.y-5,"z-index":t}),this.$box.find(".function-state-element-inner").css({position:"fixed",left:e.x,top:e.y}),n.css({position:"fixed",left:e.x+e.width/2-n.width()/2,top:e.y+e.height/2-10}),s.css({position:"fixed",left:e.x+10,top:e.y+15}),i.css({position:"fixed",left:e.x+25,top:e.y+10}),a.css({position:"fixed",left:e.x+170,top:e.y}),r.css({position:"fixed",left:e.x+170,top:e.y})},removeBox:function(e){this.$box.remove()}}),s.functionStateElement=function(e){return e=e||s.functionStateElementDefaults,new t.shapes.sbd.FunctionStateElement(e)},t.shapes.sbd.FromSendStateConnectorElement=t.dia.Link.extend({defaults:t.util.deepSupplement({type:"sbd.FromSendStateConnectorElement"},t.dia.Link.prototype.defaults)}),t.shapes.sbd.FromSendStateConnectorElementView=t.dia.LinkView.extend({template:['<div class="from-send-state-connector-element">','<div class="from-send-state-connector-element-inner">','<div class="fss-subject"></div>','<div class="fss-message"></div>','<button class="fss-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateConnector"),t.dia.LinkView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.on("click",_.bind(this.onClick,this)),this.$box.find(".fss-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateConnector,this),this.model.on("remove",this.removeBox,this),this.updateConnector()},onClick:function(e){var t=this.paper.snapToGrid({x:e.originalEvent.x,y:e.originalEvent.y});this.pointerdown(e,t.x,t.y),this.model.attributes.vertices=[],this.update(),this.updateConnector()},render:function(){return t.dia.LinkView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateConnector(),this},updateConnector:function(){var e=(this.getBBox(),this.model.get("z"));this.$box.find(".fss-subject").text(this.model.get("customAttrs").toSubject.display?"To: "+this.model.get("customAttrs").toSubject.display:""),this.$box.find(".fss-message").text(this.model.get("customAttrs").toMessage.name);var t={x:0,y:0};if("undefined"!=typeof this._V){var n=this.$(".connection")[0],s=n.getTotalLength();t=n.getPointAtLength(s/2)}this.$box.css({width:210,height:90,left:t.x-105,top:t.y-45,"z-index":e}),this.$box.find(".from-send-state-connector-element-inner").css({position:"fixed",left:t.x-100,top:t.y-40})},removeBox:function(e){this.$box.remove()}}),s.fromSendStateConnectorElement=function(e){return new t.shapes.sbd.FromSendStateConnectorElement(e)},t.shapes.sbd.FromReceiveStateConnectorElement=t.dia.Link.extend({defaults:t.util.deepSupplement({type:"sbd.FromReceiveStateConnectorElement"},t.dia.Link.prototype.defaults)}),t.shapes.sbd.FromReceiveStateConnectorElementView=t.dia.LinkView.extend({template:['<div class="from-receive-state-connector-element">','<div class="from-receive-state-connector-element-inner">','<div class="frs-subject"></div>','<div class="frs-message"></div>','<button class="frs-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateConnector"),t.dia.LinkView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.on("click",_.bind(this.onClick,this)),this.$box.find(".frs-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateConnector,this),this.model.on("remove",this.removeBox,this),this.updateConnector()},onClick:function(e){var t=this.paper.snapToGrid({x:e.originalEvent.x,y:e.originalEvent.y});this.pointerdown(e,t.x,t.y),this.model.attributes.vertices=[],this.update(),this.updateConnector()},render:function(){return t.dia.LinkView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateConnector(),this},updateConnector:function(){var e=(this.getBBox(),this.model.get("z"));this.$box.find(".frs-subject").text(this.model.get("customAttrs").fromSubject.display?"From: "+this.model.get("customAttrs").fromSubject.display:""),this.$box.find(".frs-message").text(this.model.get("customAttrs").fromMessage.name);var t={x:0,y:0};if("undefined"!=typeof this._V){var n=this.$(".connection")[0],s=n.getTotalLength();t=n.getPointAtLength(s/2)}this.$box.css({width:210,height:90,left:t.x-105,top:t.y-45,"z-index":e}),this.$box.find(".from-receive-state-connector-element-inner").css({position:"fixed",left:t.x-100,top:t.y-40})},removeBox:function(e){this.$box.remove()}}),s.fromReceiveStateConnectorElement=function(e){return new t.shapes.sbd.FromReceiveStateConnectorElement(e)},t.shapes.sbd.FromFunctionStateConnectorElement=t.dia.Link.extend({defaults:t.util.deepSupplement({type:"sbd.FromFunctionStateConnectorElement"},t.dia.Link.prototype.defaults)}),t.shapes.sbd.FromFunctionStateConnectorElementView=t.dia.LinkView.extend({template:['<div class="from-function-state-connector-element">','<div class="from-function-state-connector-element-inner">','<div class="ffs-name"></div>','<button class="ffs-remove-btn"><i class="fa fa-trash-o" aria-hidden="true"></i></button>',"</div>","</div>"].join(""),initialize:function(){_.bindAll(this,"updateConnector"),t.dia.LinkView.prototype.initialize.apply(this,arguments),this.$box=$(_.template(this.template)()),this.$box.on("click",_.bind(this.onClick,this)),this.$box.find(".ffs-remove-btn").on("click",_.bind(this.model.remove,this.model)),this.model.on("change",this.updateConnector,this),this.model.on("remove",this.removeBox,this),this.updateConnector()},onClick:function(e){var t=this.paper.snapToGrid({x:e.originalEvent.x,y:e.originalEvent.y});this.pointerdown(e,t.x,t.y),this.model.attributes.vertices=[],this.update(),this.updateConnector()},render:function(){return t.dia.LinkView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateConnector(),this},updateConnector:function(){var e=(this.getBBox(),this.model.get("z"));this.$box.find(".ffs-name").text(this.model.get("customAttrs").transitionName);var t={x:0,y:0};if("undefined"!=typeof this._V){var n=this.$(".connection")[0],s=n.getTotalLength();t=n.getPointAtLength(s/2)}this.$box.css({width:210,height:90,left:t.x-105,top:t.y-45,"z-index":e}),this.$box.find(".from-function-state-connector-element-inner").css({position:"fixed",left:t.x-100,top:t.y-40})},removeBox:function(e){this.$box.remove()}}),s.fromFunctionStateConnectorElement=function(e){return new t.shapes.sbd.FromFunctionStateConnectorElement(e)};var o=function(e,t){var n=e;return n.length>t&&(n=n.substr(0,t-3)+"..."),n};return s.init(),s}e.$inject=["$log","jointWindow","jointConfig"],angular.module("uiJoint.jointShape",[]).factory("jointShape",e)}(),function(){"use strict";angular.module("components.directives",[])}(),function(){"use strict";function e(){function e(e,t,n){var s=this;s.paper=null,s.graph=null,s.subject={},s.init=function(){s.paper=n.getPaper(),s.graph=n.getGraph(),s.paper.on("cell:pointerdown",function(e,t,n,o){"sid.SubjectElement"===e.model.attributes.type&&(s.subject=e.model.attributes)}),s.graph.on("add",function(e){"sid.SubjectElement"===e.attributes.type&&(s.subject=e.attributes)})},s.saveSubjectProperties=function(){t.$broadcast("subject:changed",s.subject)},s.init()}e.$inject=["$log","$rootScope","joint"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/subject-properties/subject-properties.template.html",controller:e,controllerAs:"sbp",bindToController:!0};return t}angular.module("components.directives").directive("subjectProperties",e)}(),function(){"use strict";function e(){function e(e,t,n){var s=this;s.paper=null,s.graph=null,s.state={},s.init=function(){s.paper=n.getPaper(),s.graph=n.getGraph(),s.paper.on("cell:pointerdown",function(e,t,n,o){("sbd.SendStateElement"===e.model.attributes.type||"sbd.ReceiveStateElement"===e.model.attributes.type||"sbd.FunctionStateElement"===e.model.attributes.type)&&(s.state=e.model.attributes)}),s.graph.on("add",function(e){("sbd.SendStateElement"===e.attributes.type||"sbd.ReceiveStateElement"===e.attributes.type||"sbd.FunctionStateElement"===e.attributes.type)&&(s.state=e.attributes)})},s.setStartStateToFalse=function(){s.state.customAttrs.startState=!1},s.setEndStateToFalse=function(){s.state.customAttrs.endState=!1},s.saveStateProperties=function(){t.$broadcast("state:changed",s.state)},s.init()}e.$inject=["$log","$rootScope","joint"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/state-properties/state-properties.template.html",controller:e,controllerAs:"stp",bindToController:!0};return t}angular.module("components.directives").directive("stateProperties",e)}(),function(){"use strict";function e(){function e(e,t,n,s,o,i,a){var r=this;r.paper=null,r.graph=null,r.messageConnectorModel={},r.messageConnector={},r.sourceSubjectName="Not defined",r.targetSubjectName="Not defined",r.init=function(){r.paper=s.getPaper(),r.graph=s.getGraph(),r.paper.on("cell:pointerdown",function(e,t,n,s){"sid.MessageConnectorElement"===e.model.attributes.type&&(r.messageConnectorModel=e.model,r.messageConnector=e.model.attributes,r.getSourceTargetNames())}),r.graph.on("add",function(e){"sid.MessageConnectorElement"===e.attributes.type&&(r.messageConnectorModel=e,r.messageConnector=e.attributes,r.getSourceTargetNames())})},n.$on("messageConnector:created",function(){r.safeApply(r.getSourceTargetNames)}),r.isBidirectionalChanged=function(){r.paper.findViewByModel(r.messageConnectorModel).updateConnector(),r.messageConnector.customAttrs.isBidirectional||(r.messageConnector.customAttrs.targetToSource.messageTypes=[])},r.getSourceTargetNames=function(){var e=r.messageConnectorModel.getSourceElement(),t=r.messageConnectorModel.getTargetElement();r.sourceSubjectName=e.get("customAttrs").name,null!==t&&(r.targetSubjectName=t.get("customAttrs").name)},r.saveMessageConnectorProperties=function(){t.$broadcast("messageConnector:changed",r.messageConnector)},r.safeApply=function(e){var t=n.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():n.$apply(e)},r.removeMessageType=function(e,t){if(e){var n=r.messageConnector.customAttrs.sourceToTarget.messageTypes.find(function(e){return e.id===t.id});if("undefined"!=typeof n){var s=r.messageConnector.customAttrs.sourceToTarget.messageTypes.indexOf(n);r.messageConnector.customAttrs.sourceToTarget.messageTypes.splice(s,1)}}else{var n=r.messageConnector.customAttrs.targetToSource.messageTypes.find(function(e){return e.id===t.id});if("undefined"!=typeof n){var s=r.messageConnector.customAttrs.targetToSource.messageTypes.indexOf(n);r.messageConnector.customAttrs.targetToSource.messageTypes.splice(s,1)}}},r.showSelectMessageTypeDialog=function(e){o.show({controller:d,controllerAs:"smt",templateUrl:"app/components/directives/properties-menu/message-connector-properties/dialog-templates/select-message-type.template.html",clickOutsideToClose:!0,locals:{isSourceToTarget:e}})};var d=function(e){var t=this;t.availableMessageTypes=[],t.init=function(){t.availableMessageTypes=i.getBusinessObjects()},t.addMessageType=function(n){if(e){var s=r.messageConnector.customAttrs.sourceToTarget.messageTypes.find(function(e){return e.id===n.id});"undefined"==typeof s?r.messageConnector.customAttrs.sourceToTarget.messageTypes.push(n):t.showSimpleToast()}else{var s=r.messageConnector.customAttrs.targetToSource.messageTypes.find(function(e){return e.id===n.id});"undefined"==typeof s?r.messageConnector.customAttrs.targetToSource.messageTypes.push(n):t.showSimpleToast()}},t.cancel=function(){o.cancel()},t.messageTypesAvailable=function(){return!_.isEmpty(t.availableMessageTypes)},t.showSimpleToast=function(){a.show(a.simple().textContent("This message type is already added!").hideDelay(2e3).position("top right"))},t.init()};d.$inject=["isSourceToTarget"],r.init()}e.$inject=["$log","$rootScope","$scope","joint","$mdDialog","modelerStorage","$mdToast"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/message-connector-properties/message-connector-properties.template.html",controller:e,controllerAs:"mcp",bindToController:!0};return t}angular.module("components.directives").directive("messageConnectorProperties",e)}(),function(){"use strict";function e(){function e(e,t,n,s,o){var i=this;i.paper=null,i.graph=null,i.fromSendState={},i.availableSubjects=[],i.availableMessageTypes=[],i.selectedSubjectName="",i.selectedMessageName="",i.init=function(){i.paper=s.getPaper(),i.graph=s.getGraph(),i.paper.on("cell:pointerdown",function(e,t,n,s){"sbd.FromSendStateConnectorElement"===e.model.attributes.type&&(i.fromSendState=e.model.attributes,i.clearAvailableData(),i.getAvailableData())}),i.graph.on("add",function(e){"sbd.FromSendStateConnectorElement"===e.attributes.type&&(i.fromSendState=e.attributes,i.clearAvailableData(),i.getAvailableData())}),i.graph.on("remove",function(e){"sbd.FromSendStateConnectorElement"===e.attributes.type&&i.clearAvailableData()})},t.$on("businessObject:created",function(){i.clearAvailableData(),i.getAvailableData()}),i.saveStateTransitionProperties=function(){n.$broadcast("stateTransition:changed",i.fromSendState)},i.getAvailableData=function(){i.availableSubjects=o.getSubjectDisplayItems(),i.availableMessageTypes=o.getBusinessObjects(),_.isEmpty(i.fromSendState)||(i.selectedSubjectName=i.fromSendState.customAttrs.toSubject.display,i.selectedMessageName=i.fromSendState.customAttrs.toMessage.name)},i.clearAvailableData=function(){i.availableSubjects=[],i.availableMessageTypes=[],i.selectedSubjectName="",i.selectedMessageName=""},i.changeSubject=function(e){i.fromSendState.customAttrs.toSubject={id:e.id,value:e.value,display:e.display}},i.changeMessage=function(e){i.fromSendState.customAttrs.toMessage={id:e.id,name:e.name}},i.init()}e.$inject=["$log","$scope","$rootScope","joint","modelerStorage"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/from-send-state-properties/from-send-state-properties.template.html",controller:e,controllerAs:"fssp",bindToController:!0};return t}angular.module("components.directives").directive("fromSendStateProperties",e)}(),function(){"use strict";function e(){function e(e,t,n,s,o){var i=this;i.paper=null,i.graph=null,i.fromReceiveState={},i.availableSubjects=[],i.availableMessageTypes=[],i.selectedSubjectName="",i.selectedMessageName="",i.init=function(){i.paper=s.getPaper(),i.graph=s.getGraph(),i.paper.on("cell:pointerdown",function(e,t,n,s){"sbd.FromReceiveStateConnectorElement"===e.model.attributes.type&&(i.fromReceiveState=e.model.attributes,i.clearAvailableData(),i.getAvailableData())}),i.graph.on("add",function(e){"sbd.FromReceiveStateConnectorElement"===e.attributes.type&&(i.fromReceiveState=e.attributes,i.clearAvailableData(),i.getAvailableData())}),i.graph.on("remove",function(e){"sbd.FromReceiveStateConnectorElement"===e.attributes.type&&i.clearAvailableData()})},t.$on("businessObject:created",function(){i.clearAvailableData(),i.getAvailableData()}),i.saveStateTransitionProperties=function(){n.$broadcast("stateTransition:changed",i.fromReceiveState)},i.getAvailableData=function(){i.availableSubjects=o.getSubjectDisplayItems(),i.availableMessageTypes=o.getBusinessObjects(),_.isEmpty(i.fromReceiveState)||(i.selectedSubjectName=i.fromReceiveState.customAttrs.fromSubject.display,i.selectedMessageName=i.fromReceiveState.customAttrs.fromMessage.name)},i.clearAvailableData=function(){i.availableSubjects=[],i.availableMessageTypes=[],i.selectedSubjectName="",i.selectedMessageName=""},i.changeSubject=function(e){i.fromReceiveState.customAttrs.fromSubject={id:e.id,value:e.value,display:e.display}},i.changeMessage=function(e){i.fromReceiveState.customAttrs.fromMessage={id:e.id,name:e.name
}},i.init()}e.$inject=["$log","$scope","$rootScope","joint","modelerStorage"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/from-receive-state-properties/from-receive-state-properties.template.html",controller:e,controllerAs:"frsp",bindToController:!0};return t}angular.module("components.directives").directive("fromReceiveStateProperties",e)}(),function(){"use strict";function e(){function e(e,t,n){var s=this;s.paper=null,s.graph=null,s.fromFunctionState={},s.init=function(){s.paper=n.getPaper(),s.graph=n.getGraph(),s.paper.on("cell:pointerdown",function(e,t,n,o){"sbd.FromFunctionStateConnectorElement"===e.model.attributes.type&&(s.fromFunctionState=e.model.attributes)}),s.graph.on("add",function(e){"sbd.FromFunctionStateConnectorElement"===e.attributes.type&&(s.fromFunctionState=e.attributes)}),s.saveStateTransitionProperties=function(){t.$broadcast("stateTransition:changed",s.fromFunctionState)}},s.init()}e.$inject=["$log","$rootScope","joint"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/from-function-state-properties/from-function-state-properties.template.html",controller:e,controllerAs:"ffsp",bindToController:!0};return t}angular.module("components.directives").directive("fromFunctionStateProperties",e)}(),function(){"use strict";function e(){function e(){var e=this;e.isOpen=!0}var t={restrict:"E",transclude:!0,scope:{itemName:"@itemName"},templateUrl:"app/components/directives/navigation-menu/navigation-menu-item/navigation-menu-item.template.html",controller:e,controllerAs:"nmic",bindToController:!0};return t}angular.module("components.directives").directive("navigationMenuItem",e)}(),function(){"use strict";function e(){function e(e,t,n){var s=this;s.selectedView=null,s.init=function(){s.selectedView=n.getSelectedView()},t.$on("selectedView:changed",s.init),s.selectedViewSID=function(){return"SID"===s.selectedView?!0:!1},s.init()}e.$inject=["$log","$rootScope","modelerStorage"];var t={restrict:"E",templateUrl:"app/components/directives/navigation-menu/basic-element-selector/basic-element-selector.template.html",controller:e,controllerAs:"bes",bindToController:!0};return t}angular.module("components.directives").directive("basicElementSelector",e)}(),function(){"use strict";function e(e,t,n,s,o,i,a,r,d){var c=this;c.graph=null,c.paper=null,c.activeObject={},c.drawConnection=!1,c.connectorId=null,c.messageConnectorElementDefaults={},c.fromSendStateConnectorElementDefaults={},c.fromReceiveStateConnectorElementDefaults={},c.fromFunctionStateConnectorElementDefaults={},c.graphScale=1,c.init=function(){e.info("jointService - init()"),c.graph=o.getGraph(),c.paper=i.getPaper(),c.messageConnectorElementDefaults=r.getMessageConnectorElementDefaults(),c.fromSendStateConnectorElementDefaults=r.getFromSendStateConnectorElementDefaults(),c.fromReceiveStateConnectorElementDefaults=r.getFromReceiveStateConnectorElementDefaults(),c.fromFunctionStateConnectorElementDefaults=r.getFromFunctionStateConnectorElementDefaults(),c.configJointListeners()},c.getPaper=function(){return null===c.paper&&e.error("jointService - paper is null"),c.paper},c.getGraph=function(){return null===c.graph&&e.error("jointService - graph is null"),c.graph},c.handleViewChange=function(){c.graph.clear({saveView:!1}),"SID"===d.getSelectedView()?p():m(),v()},c.handleSubjectUpdate=function(e){c.paper.findViewByModel(c.graph.getCell(e.id)).updateBox(),u(),d.getSelectedSubject().id===e.id&&(d.setSelectedSubject(e),t.$broadcast("selectedSubject:changed"))},c.handleMessageConnectorUpdate=function(e){c.paper.findViewByModel(c.graph.getCell(e.id)).updateConnector(),u()},c.handleStateUpdate=function(e){c.paper.findViewByModel(c.graph.getCell(e.id)).updateBox(),l()},c.handleStateTransitionUpdate=function(e){c.paper.findViewByModel(c.graph.getCell(e.id)).updateConnector(),l()},c.handleSelectedSubjectChange=function(e){l(),c.graph.clear({saveView:!1}),d.subjectContainsSbdJson(e)&&(c.graph.fromJSON(d.getSbdJsonBySubjectId(e)),c.graph.getElements().forEach(function(e){g(e)}));var n=d.getSidJson().cells.find(function(t){return t.id===e});d.setSelectedSubject(n),v(),t.$broadcast("selectedSubject:changed")};var l=function(){var e=c.graph.toJSON();d.addToSbdJsonArray({id:d.getSelectedSubject().id,sbdJson:e})},m=function(){d.subjectContainsSbdJson(d.getSelectedSubject().id)&&c.graph.fromJSON(d.getSbdJsonBySubjectId(d.getSelectedSubject().id)),c.graph.getElements().forEach(function(e){g(e)})},u=function(){var e=c.graph.toJSON();d.setSidJson(e)},p=function(){_.isEmpty(d.getSidJson())||c.graph.fromJSON(d.getSidJson()),c.graph.getElements().forEach(function(e){g(e)})},b=function(){"SID"===d.getSelectedView()?u():l()},f=function(t){return null===c.graph&&e.error("jointService - graph is null"),c.graph.addCell(t),t.toFront(),g(t),t},g=function(e){"sid.SubjectElement"===e.get("type")?c.paper.findViewByModel(e).$box.find(".sb-connector-btn").mousedown(function(e){c.messageConnectorElementDefaults.source={id:c.activeObject.id},c.messageConnectorElementDefaults.target={x:e.originalEvent.x,y:e.originalEvent.y},c.addMessageConnectorElement(c.messageConnectorElementDefaults)}):"sid.MessageConnectorElement"===e.get("type")?(c.connectorId=e.id,c.drawConnection=!0):"sbd.SendStateElement"===e.get("type")?c.paper.findViewByModel(e).$box.find(".ss-connector-btn").mousedown(function(e){c.fromSendStateConnectorElementDefaults.source={id:c.activeObject.id},c.fromSendStateConnectorElementDefaults.target={x:e.originalEvent.x,y:e.originalEvent.y},c.addFromSendStateConnectorElement(c.fromSendStateConnectorElementDefaults)}):"sbd.FromSendStateConnectorElement"===e.get("type")?(c.connectorId=e.id,c.drawConnection=!0):"sbd.ReceiveStateElement"===e.get("type")?c.paper.findViewByModel(e).$box.find(".rs-connector-btn").mousedown(function(e){c.fromReceiveStateConnectorElementDefaults.source={id:c.activeObject.id},c.fromReceiveStateConnectorElementDefaults.target={x:e.originalEvent.x,y:e.originalEvent.y},c.addFromReceiveStateConnectorElement(c.fromReceiveStateConnectorElementDefaults)}):"sbd.FromReceiveStateConnectorElement"===e.get("type")?(c.connectorId=e.id,c.drawConnection=!0):"sbd.FunctionStateElement"===e.get("type")?c.paper.findViewByModel(e).$box.find(".fs-connector-btn").mousedown(function(e){c.fromFunctionStateConnectorElementDefaults.customAttrs.transitionName=c.activeObject.get("customAttrs").name+" done",c.fromFunctionStateConnectorElementDefaults.source={id:c.activeObject.id},c.fromFunctionStateConnectorElementDefaults.target={x:e.originalEvent.x,y:e.originalEvent.y},c.addFromFunctionStateConnectorElement(c.fromFunctionStateConnectorElementDefaults)}):"sbd.FromFunctionStateConnectorElement"===e.get("type")&&(c.connectorId=e.id,c.drawConnection=!0)};c.addSubjectElement=function(e){return f(a.subjectElement(e))},c.addMessageConnectorElement=function(e){return f(a.messageConnectorElement(e))},c.addSendStateElement=function(e){return f(a.sendStateElement(e))},c.addReceiveStateElement=function(e){return f(a.receiveStateElement(e))},c.addFunctionStateElement=function(e){return f(a.functionStateElement(e))},c.addFromSendStateConnectorElement=function(e){return f(a.fromSendStateConnectorElement(e))},c.addFromReceiveStateConnectorElement=function(e){return f(a.fromReceiveStateConnectorElement(e))},c.addFromFunctionStateConnectorElement=function(e){return f(a.fromFunctionStateConnectorElement(e))},c.configJointListeners=function(){c.paper.on({"cell:pointerdown":c.cellPointerDownListener,"cell:pointerup":c.cellPointerUpListener,"blank:pointerdown":c.blankPointerDownListener}),c.graph.on({change:c.changeListener,add:c.addListner,remove:c.removeListener}),$(".modeler-board").on({mousemove:c.mousemoveListener,mouseup:c.mouseupListener})},c.cellPointerDownListener=function(e,t,n,s){h(e),c.activeObject=e.model},c.cellPointerUpListener=function(e,n,s,o){"sid.MessageConnectorElement"===e.model.get("type")?null===e.model.getTargetElement()?(d.removeFromSidJsonById(e.model.id),t.$broadcast("link:removed"),e.removeBox(),e.remove()):u():("sbd.FromSendStateConnectorElement"===e.model.get("type")||"sbd.FromReceiveStateConnectorElement"===e.model.get("type")||"sbd.FromFunctionStateConnectorElement"===e.model.get("type"))&&(null===e.model.getTargetElement()?(d.removeFromSbdJsonArrayBySubjectId(d.getSelectedSubject().id,e.model.id),t.$broadcast("link:removed"),e.removeBox(),e.remove()):l())},c.blankPointerDownListener=function(e,t,n){v()};var h=function(e){v(),a.highlightElement(e)},v=function(){a.unhighlightAll(c.graph.getElements().map(function(e){return c.paper.findViewByModel(e)})),a.unhighlightAll(c.graph.getLinks().map(function(e){return c.paper.findViewByModel(e)}))};return c.blankMousewheelListener=function(e,t,n,s){var o=function(e,t){c.paper.scale(e,t)},i=function(){c.graphScale-=.1,o(c.graphScale,c.graphScale)},a=function(){c.graphScale+=.1,o(c.graphScale,c.graphScale)};1===s?a():i()},c.changeListener=function(){c.graph.getLinks().forEach(function(e){c.paper.findViewByModel(e).updateConnector()}),b()},c.addListner=function(e){"SID"===d.getSelectedView()?(u(),_.isEmpty(d.getSelectedSubject())&&(d.setSelectedSubject(e.attributes),t.$broadcast("selectedSubject:changed"))):l(),c.activeObject=e,h(c.paper.findViewByModel(e))},c.removeListener=function(e,n,s){("undefined"==typeof s.saveView||s.saveView)&&("SID"===d.getSelectedView()?(u(),d.getSelectedSubject().id===e.get("id")&&d.setSelectedSubject(d.getSidJson().cells[0]),_.isEmpty(d.getSidJson().cells)&&(d.setSelectedSubject({}),t.$broadcast("selectedSubject:changed")),d.removeSbdJsonBySubjctId(e.get("id"))):l())},c.mousemoveListener=function(e){if(c.drawConnection){var t=c.graph.getLinks().find(function(e){return e.id===c.connectorId}),n=c.paper.findViewByModel(t);n.startArrowheadMove("target");var s=c.paper.snapToGrid({x:e.originalEvent.x,y:e.originalEvent.y});n.pointermove(e,s.x,s.y)}},c.mouseupListener=function(e){if(c.drawConnection){c.drawConnection=!1;var n=c.graph.getLinks().find(function(e){return e.id===c.connectorId}),s=c.paper.findViewByModel(n);s.pointerup(e),null!==n.getTargetElement()&&"SID"===d.getSelectedView()&&t.$broadcast("messageConnector:created"),c.connectorId=null}},n.onload=function(){e.info("Page loaded"),c.handleViewChange()},n.onbeforeunload=function(){"SID"===d.getSelectedView()?u():l()},c}e.$inject=["$log","$rootScope","$window","jointWindow","jointGraph","jointPaper","jointShape","jointConfig","modelerStorage"],angular.module("uiJoint.jointService",[]).factory("joint",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(n,s){e.info("jointDirective - link()"),t.createPaper(s)}}}e.$inject=["$log","jointPaper"],angular.module("uiJoint.jointDirective",[]).directive("joint",e)}(),function(){"use strict";function e(e){return e.joint}e.$inject=["$window"],angular.module("uiJoint.jointWindow",[]).factory("jointWindow",e)}(),function(){"use strict";function e(e,t,n,s){var o=this;return o.paper=null,o.createPaper=function(i){var a=s.createGraph();return e.info("jointPaper - createPaper()"),o.paper=new n.dia.Paper({el:i,width:"100%",height:"100%",gridSize:1,model:a}),t.$broadcast("paper:created"),o.paper},o.getPaper=function(){return o.paper},o}e.$inject=["$log","$rootScope","jointWindow","jointGraph"],angular.module("uiJoint.jointPaper",[]).factory("jointPaper",e)}(),function(){"use strict";function e(e,t){var n=this;return n.graph=null,n.createGraph=function(){return e.info("jointGraph - createGraph()"),n.graph=new t.dia.Graph,n.graph},n.getGraph=function(){return n.graph},n}e.$inject=["$log","jointWindow"],angular.module("uiJoint.jointGraph",[]).factory("jointGraph",e)}(),function(){"use strict";function e(){var e=this,t={position:{x:0,y:0},size:{width:210.35,height:130},attrs:{rect:{cursor:"pointer",stroke:"none","fill-opacity":1,fill:"blue"}},customAttrs:{name:"Subject",startSubject:!1}},n={source:{},target:{},attrs:{".connection":{stroke:"#222138","stroke-width":3},".connection-wrap":{fill:"yellow",d:"M 10 0 L 0 5 L 10 10 z"},".marker-target":{fill:"#000000",d:"M 10 0 L 0 5 L 10 10 z"}},customAttrs:{isBidirectional:!1,sourceToTarget:{messageTypes:[]},targetToSource:{messageTypes:[]}}},s={position:{x:0,y:0},size:{width:210.35,height:130},attrs:{rect:{cursor:"pointer",stroke:"none","fill-opacity":0,fill:"blue"}},customAttrs:{name:"Send",startState:!1,endState:!1}},o={position:{x:0,y:0},size:{width:210.35,height:130},attrs:{rect:{cursor:"pointer",stroke:"none","fill-opacity":0,fill:"blue"}},customAttrs:{name:"Receive",startState:!1,endState:!1}},i={position:{x:0,y:0},size:{width:210.35,height:130},attrs:{rect:{cursor:"pointer",stroke:"none","fill-opacity":0,fill:"blue"}},customAttrs:{name:"Function",startState:!1,endState:!1}},a={source:{},target:{},attrs:{".connection":{stroke:"#222138","stroke-width":3},".connection-wrap":{fill:"yellow",d:"M 10 0 L 0 5 L 10 10 z"},".marker-target":{fill:"#000000",d:"M 10 0 L 0 5 L 10 10 z"}},customAttrs:{toSubject:{},toMessage:{}}},r={source:{},target:{},attrs:{".connection":{stroke:"#222138","stroke-width":3},".connection-wrap":{fill:"yellow",d:"M 10 0 L 0 5 L 10 10 z"},".marker-target":{fill:"#000000",d:"M 10 0 L 0 5 L 10 10 z"}},customAttrs:{fromSubject:{},fromMessage:{}}},d={source:{},target:{},attrs:{".connection":{stroke:"#222138","stroke-width":3},".connection-wrap":{fill:"yellow",d:"M 10 0 L 0 5 L 10 10 z"},".marker-target":{fill:"#000000",d:"M 10 0 L 0 5 L 10 10 z"}},customAttrs:{transitionName:""}};return e.getSubjectElementDefaults=function(){return t},e.getMessageConnectorElementDefaults=function(){return n},e.getSendStateElementDefaults=function(){return s},e.getReceiveStateElementDefaults=function(){return o},e.getFunctionStateElementDefaults=function(){return i},e.getFromSendStateConnectorElementDefaults=function(){return a},e.getFromReceiveStateConnectorElementDefaults=function(){return r},e.getFromFunctionStateConnectorElementDefaults=function(){return d},e}angular.module("uiJoint.jointConfig",[]).factory("jointConfig",e)}(),function(){"use strict";function e(e,t){var n={};return n.init=function(){e.info("modelerStorage - init()");var n={selectedView:"SID",selectedSubject:{},selectedConnection:{},sidJson:{},sbdJsonArray:[],businessObjects:[]};null===t.get("modelerSettings")&&t.set("modelerSettings",n)},n.getModelerSettings=function(){return t.get("modelerSettings")},n.getSelectedView=function(){return t.get("modelerSettings").selectedView},n.setSelectedView=function(e){var n=t.get("modelerSettings");n.selectedView=e,t.set("modelerSettings",n)},n.getSelectedSubject=function(){return t.get("modelerSettings").selectedSubject},n.setSelectedSubject=function(e){var n=t.get("modelerSettings");n.selectedSubject=e,t.set("modelerSettings",n)},n.getSelectedConnection=function(){return t.get("modelerSettings").selectedConnection},n.setSelectedConnection=function(e){var n=t.get("modelerSettings");n.selectedConnection=e,t.set("modelerSettings",n)},n.getSidJson=function(){return t.get("modelerSettings").sidJson},n.setSidJson=function(e){var n=t.get("modelerSettings");n.sidJson=e,t.set("modelerSettings",n)},n.removeFromSidJsonById=function(e){var n=t.get("modelerSettings"),s=n.sidJson.cells.find(function(t){return t.id===e});if("undefined"!=typeof s){var o=n.sidJson.cells.indexOf(s);n.sidJson.cells.splice(o,1)}t.set("modelerSettings",n)},n.getSbdJsonArray=function(){return t.get("modelerSettings").sbdJsonArray},n.setSbdJsonArray=function(e){var n=t.get("modelerSettings");n.sbdJsonArray=e,t.set("modelerSettings",n)},n.addToSbdJsonArray=function(e){var n=t.get("modelerSettings"),s=n.sbdJsonArray.find(function(t){return t.id===e.id});if("undefined"!=typeof s){var o=n.sbdJsonArray.indexOf(s);n.sbdJsonArray.splice(o,1),n.sbdJsonArray.push(e)}else n.sbdJsonArray.push(e);t.set("modelerSettings",n)},n.getSbdJsonBySubjectId=function(e){var n=t.get("modelerSettings"),s=n.sbdJsonArray.find(function(t){return t.id===e});return s.sbdJson},n.subjectContainsSbdJson=function(e){var n=t.get("modelerSettings"),s=n.sbdJsonArray.find(function(t){return t.id===e});return"undefined"==typeof s||_.isEmpty(s.sbdJson.cells)?!1:!0},n.getSubjectDisplayItems=function(){var e=t.get("modelerSettings"),n=[];return _.isEmpty(e.sidJson)||_.isEmpty(e.sidJson.cells)||t.get("modelerSettings").sidJson.cells.forEach(function(e){"sid.SubjectElement"===e.type&&n.push({id:e.id,value:e.customAttrs.name.toLowerCase(),display:e.customAttrs.name})}),n},n.getBusinessObjects=function(){return t.get("modelerSettings").businessObjects},n.setBusinessObjects=function(e){var n=t.get("modelerSettings");n.businessObjects=e,t.set("modelerSettings",n)},n.addBusinessObject=function(e){var n=t.get("modelerSettings"),s=n.businessObjects.find(function(t){return t.id===e.id});if("undefined"!=typeof s){var o=n.businessObjects.indexOf(s);n.businessObjects.splice(o,1),n.businessObjects.push(e)}else n.businessObjects.push(e);t.set("modelerSettings",n)},n.removeBusinessObject=function(e){var n=t.get("modelerSettings"),s=n.businessObjects.find(function(t){return t.id===e});if("undefined"!=typeof s){var o=n.businessObjects.indexOf(s);n.businessObjects.splice(o,1)}t.set("modelerSettings",n)},n.removeSbdJsonBySubjctId=function(e){var n=t.get("modelerSettings"),s=n.sbdJsonArray.find(function(t){return t.id===e});if("undefined"!=typeof s){var o=n.sbdJsonArray.indexOf(s);n.sbdJsonArray.splice(o,1)}t.set("modelerSettings",n)},n.removeFromSbdJsonArrayBySubjectId=function(e,n){var s=t.get("modelerSettings"),o=s.sbdJsonArray.find(function(t){return t.id===e}),i=s.sbdJsonArray.indexOf(o);"undefined"!=typeof o&&_.remove(s.sbdJsonArray[i].sbdJson.cells,function(e){return e.id===n}),t.set("modelerSettings",s)},n.modelerSettingsValid=function(){e.debug(t.get("modelerSettings"))},n.clear=function(){t.removeItem("modelerSettings")},n.init(),n}e.$inject=["$log","local"],angular.module("storage.modelerStorage",[]).factory("modelerStorage",e)}(),function(){"use strict";function e(){var e=localStorage,t={};return t.set=function(t,n){n=JSON.stringify(n),e.setItem(t,n)},t.get=function(t){return JSON.parse(e.getItem(t)||"null")},t.removeItem=function(t){e.removeItem(t)},t}angular.module("storage.local",[]).factory("local",e)}(),function(){"use strict";function e(e,t){var n={};return n.vacationProcess='{"selectedView":"SBD","selectedSubject":{"type":"sid.SubjectElement","position":{"x":471,"y":589},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Boss","startSubject":false},"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d","z":45,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":1}}},"selectedConnection":{},"sidJson":{"cells":[{"type":"sid.SubjectElement","position":{"x":471,"y":91},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Employee","startSubject":false},"id":"50d69cdc-b314-478c-8808-eb056d34554b","z":10,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":1}}},{"type":"sid.MessageConnectorElement","source":{"id":"50d69cdc-b314-478c-8808-eb056d34554b"},"target":{"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d"},"customAttrs":{"isBidirectional":true,"sourceToTarget":{"messageTypes":[{"name":"Vacation Request","id":"k3m36qnea","$$hashKey":"object:351"}]},"targetToSource":{"messageTypes":[{"name":"Vacation Request OK","id":"5e3cl0mnb","$$hashKey":"object:405"},{"name":"Vacation Request NOK","id":"9pqm8l7ji","$$hashKey":"object:406"}]}},"id":"9f8a4d92-dd3d-4e1a-95bc-41a55399c2c5","z":44,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"},".marker-source":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sid.SubjectElement","position":{"x":471,"y":589},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Boss","startSubject":false},"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d","z":45,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":1}}}]},"sbdJsonArray":[{"id":"50d69cdc-b314-478c-8808-eb056d34554b","sbdJson":{"cells":[{"type":"sbd.SendStateElement","position":{"x":804,"y":78},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Send Vacation Request","startState":false,"endState":false},"id":"9e8595af-4cb3-4b6e-a5c5-34d409bd322c","z":75,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":0}}},{"type":"sbd.ReceiveStateElement","position":{"x":1275,"y":83},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Receive Vacation Request Response","startState":false,"endState":false},"id":"051da1f1-2b0f-4076-9ab2-d3b4f6cc53ef","z":211,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":0}}},{"type":"sbd.FunctionStateElement","position":{"x":780,"y":380},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Realize Vacation Request OK","startState":false,"endState":false},"id":"dbda1a03-8f5c-42e7-9c00-37548d9e06e2","z":390,"attrs":{"rect":{"cursor":"pointer"}}},{"type":"sbd.FunctionStateElement","position":{"x":1347,"y":376},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Realize Vacation Request NOK","startState":false,"endState":false},"id":"77bbd669-44f7-4c7e-86ef-a93413460a0a","z":397,"attrs":{"rect":{"cursor":"pointer"}}},{"type":"sbd.FunctionStateElement","position":{"x":383,"y":76},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Create Vacation Request","startState":true,"endState":false},"id":"a036758b-6fb2-4b42-9487-c9e4aaabcc53","z":417,"attrs":{"rect":{"cursor":"pointer"}}},{"type":"sbd.FunctionStateElement","position":{"x":1064,"y":648},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"End","startState":false,"endState":true},"id":"1f1c4b4e-cac7-416d-b665-e4a2cd59bef7","z":430,"attrs":{"rect":{"cursor":"pointer"}}},{"type":"sbd.FromFunctionStateConnectorElement","source":{"id":"a036758b-6fb2-4b42-9487-c9e4aaabcc53"},"target":{"id":"9e8595af-4cb3-4b6e-a5c5-34d409bd322c"},"customAttrs":{"transitionName":"done"},"id":"a53caf88-4598-4060-9355-cb2717e1c6bb","z":431,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromSendStateConnectorElement","source":{"id":"9e8595af-4cb3-4b6e-a5c5-34d409bd322c"},"target":{"id":"051da1f1-2b0f-4076-9ab2-d3b4f6cc53ef"},"customAttrs":{"toSubject":{"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d","value":"boss","display":"Boss"},"toMessage":{"id":"k3m36qnea","name":"Vacation Request"}},"id":"e75f2dfe-1f0e-4e1b-a84d-8d11c8f85434","z":432,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromReceiveStateConnectorElement","source":{"id":"051da1f1-2b0f-4076-9ab2-d3b4f6cc53ef"},"target":{"id":"dbda1a03-8f5c-42e7-9c00-37548d9e06e2"},"customAttrs":{"fromSubject":{"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d","value":"boss","display":"Boss"},"fromMessage":{"id":"5e3cl0mnb","name":"Vacation Request OK"}},"id":"7f2a04fa-c44f-4258-8304-c660653db404","z":433,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromReceiveStateConnectorElement","source":{"id":"051da1f1-2b0f-4076-9ab2-d3b4f6cc53ef"},"target":{"id":"77bbd669-44f7-4c7e-86ef-a93413460a0a"},"customAttrs":{"fromSubject":{"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d","value":"boss","display":"Boss"},"fromMessage":{"id":"9pqm8l7ji","name":"Vacation Request NOK"}},"id":"5fedb0e9-f813-44f4-87d9-c0cc5ef5496f","z":434,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromFunctionStateConnectorElement","source":{"id":"dbda1a03-8f5c-42e7-9c00-37548d9e06e2"},"target":{"id":"1f1c4b4e-cac7-416d-b665-e4a2cd59bef7"},"customAttrs":{"transitionName":"done"},"id":"db381fd2-5f94-4c05-a7db-126ea712be75","z":435,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromFunctionStateConnectorElement","source":{"id":"77bbd669-44f7-4c7e-86ef-a93413460a0a"},"target":{"id":"1f1c4b4e-cac7-416d-b665-e4a2cd59bef7"},"customAttrs":{"transitionName":"done"},"id":"72ac84eb-9b45-4878-a3b8-05f166a31440","z":436,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}}]}},{"id":"bbd02f03-743b-40e8-ad1c-dbdf045e9d9d","sbdJson":{"cells":[{"type":"sbd.ReceiveStateElement","position":{"x":358,"y":46},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Receive Vacation Request","startState":true,"endState":false},"id":"7a96abf5-b374-411b-b574-87947b0a091c","z":7,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":0}}},{"type":"sbd.FunctionStateElement","position":{"x":979,"y":46},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Vacation Request OK or NOK","startState":false,"endState":false},"id":"4226e6b5-f9d6-4ddd-9964-56e25b2e4889","z":120,"attrs":{"rect":{"cursor":"pointer"}}},{"type":"sbd.FunctionStateElement","position":{"x":963,"y":648},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"End","startState":false,"endState":true},"id":"d8b8262d-826f-41bf-8b5b-862751df6f10","z":174,"attrs":{"rect":{"cursor":"pointer"}}},{"type":"sbd.SendStateElement","position":{"x":1222,"y":311},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Vacation Request NOK","startState":false,"endState":false},"id":"494cafdf-54f7-4d29-974e-1773e00fbb1f","z":226,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":0}}},{"type":"sbd.SendStateElement","position":{"x":627,"y":320},"size":{"width":150,"height":130},"angle":0,"customAttrs":{"name":"Vacation Request OK","startState":false,"endState":false},"id":"7948ef96-c87a-4fbd-9ac5-200647fcbef2","z":300,"attrs":{"rect":{"fill":"blue","stroke":"none","cursor":"pointer","fill-opacity":0}}},{"type":"sbd.FromSendStateConnectorElement","source":{"id":"494cafdf-54f7-4d29-974e-1773e00fbb1f"},"target":{"id":"d8b8262d-826f-41bf-8b5b-862751df6f10"},"customAttrs":{"toSubject":{"id":"50d69cdc-b314-478c-8808-eb056d34554b","value":"employee","display":"Employee"},"toMessage":{"id":"9pqm8l7ji","name":"Vacation Request NOK"}},"id":"8921ff2e-11c8-4160-8231-da3e8e6f3b3d","z":316,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromReceiveStateConnectorElement","source":{"id":"7a96abf5-b374-411b-b574-87947b0a091c"},"target":{"id":"4226e6b5-f9d6-4ddd-9964-56e25b2e4889"},"customAttrs":{"fromSubject":{"id":"50d69cdc-b314-478c-8808-eb056d34554b","value":"employee","display":"Employee"},"fromMessage":{"id":"k3m36qnea","name":"Vacation Request"}},"id":"1ada0e8b-530d-4b80-896b-fd415ecf4e4f","z":312,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromFunctionStateConnectorElement","source":{"id":"4226e6b5-f9d6-4ddd-9964-56e25b2e4889"},"target":{"id":"7948ef96-c87a-4fbd-9ac5-200647fcbef2"},"customAttrs":{"transitionName":"done"},"id":"d1f125b0-3c0d-47ab-820d-71e2a6c85dee","z":313,"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromFunctionStateConnectorElement","source":{"id":"4226e6b5-f9d6-4ddd-9964-56e25b2e4889"},"target":{"id":"494cafdf-54f7-4d29-974e-1773e00fbb1f"},"customAttrs":{"transitionName":"done"},"id":"4fa20ab8-ee3a-4932-9bd3-8fd6dd22d7eb","z":314,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}},{"type":"sbd.FromSendStateConnectorElement","source":{"id":"7948ef96-c87a-4fbd-9ac5-200647fcbef2"},"target":{"id":"d8b8262d-826f-41bf-8b5b-862751df6f10"},"customAttrs":{"toSubject":{"id":"50d69cdc-b314-478c-8808-eb056d34554b","value":"employee","display":"Employee"},"toMessage":{"id":"5e3cl0mnb","name":"Vacation Request OK"}},"id":"aa39fd08-c909-42b0-93e0-a3539bc92079","z":315,"vertices":[],"attrs":{".connection":{"stroke":"#222138","stroke-width":3},".connection-wrap":{"fill":"yellow","d":"M 10 0 L 0 5 L 10 10 z"},".marker-target":{"fill":"#000000","d":"M 10 0 L 0 5 L 10 10 z"}}}]}}],"businessObjects":[{"name":"Vacation Request","id":"k3m36qnea"},{"name":"Vacation Request OK","id":"5e3cl0mnb"},{"name":"Vacation Request NOK","id":"9pqm8l7ji"}]}',n.sidJson=null,n.sbdJsonArray=null,n.messages=[],n.randomNumber1=1,n.randomNumber2=1,n.oneTab="  ",n.twoTabs="      ",n.init=function(){e.info("owlService - init()")},n.getStoredData=function(){n.messages=[],n.sidJson=t.getSidJson(),n.sbdJsonArray=t.getSbdJsonArray()},n.downloadOwlFile=function(e){n.getStoredData();var t='<?xml version="1.0"?>\n<!DOCTYPE rdf:RDF [\n   <!ENTITY owl "http://www.w3.org/2002/07/owl#" >\n   <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >\n   <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >\n   <!ENTITY abstract-pass-ont "http://www.imi.kit.edu/abstract-pass-ont#" >\n   <!ENTITY standard-pass-ont "http://www.imi.kit.edu/standard-pass-ont#" >\n   <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >\n]>\n<rdf:RDF xmlns:abstract-pass-ont="http://www.imi.kit.edu/abstract-pass-ont#" xmlns:standard-pass-ont="http://www.imi.kit.edu/standard-pass-ont#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:owl="http://www.w3.org/2002/07/owl#" xmlns:xsd="http://www.w3.org/2001/XMLSchema#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns="http://www.imi.kit.edu/s-bpm/exampleProcess">\n   <owl:Ontology rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess">\n       <owl:imports rdf:resource="http://www.imi.kit.edu/abstract-pass-ont"></owl:imports>\n       <owl:imports rdf:resource="http://www.imi.kit.edu/standard-pass-ont"></owl:imports>\n   </owl:Ontology>\n'+n.generateProcessBasicInfo(e)+"\n"+n.generateSIDInfo()+"\n"+n.generateSIDElementInfo()+"\n"+n.generateSBDElementInfo()+"\n</rdf:RDF>";n.download(e+".owl",t),n.messages=[]},n.download=function(e,t){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),document.createEvent){var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),n.dispatchEvent(s)}else n.click()},n.generateRandomNumbers=function(){function e(){return Math.floor(1e3*Math.random()+1)}var t=n.randomNumber1,s=n.randomNumber2;n.randomNumber1=e(),n.randomNumber2=e(),(n.randomNumber1===t||n.randomNumber2===s)&&n.generateRandomNumbers()},n.generateProcessBasicInfo=function(e){n.generateRandomNumbers();var t="",s=n.sidJson.cells.filter(function(e){return"sid.SubjectElement"===e.type}),o=n.sidJson.cells.filter(function(e){return"sid.MessageConnectorElement"===e.type});return t=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#'+e+'" >\n'+n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;PASSProcessModel" ></rdf:type>\n'+n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >Layer_0</standard-pass-ont:hasModelComponentID>\n'+n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >'+e+"</standard-pass-ont:hasModelComponentLable>\n"+n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID" ></standard-pass-ont:hasModelComponent>\n',
s.forEach(function(e){t+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+e.id+'" ></standard-pass-ont:hasModelComponent>\n'}),o.forEach(function(e){var s=e.customAttrs.sourceToTarget.messageTypes;s.forEach(function(s){t+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" ></standard-pass-ont:hasModelComponent>\n',t+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_messageConnector_'+n.randomNumber1+"_"+e.id+"_message_"+s.id+'" ></standard-pass-ont:hasModelComponent>\n'});var o=e.customAttrs.targetToSource.messageTypes;o.forEach(function(s){t+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" ></standard-pass-ont:hasModelComponent>\n',t+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_messageConnector_'+n.randomNumber2+"_"+e.id+"_message_"+s.id+'" ></standard-pass-ont:hasModelComponent>\n'})}),s.forEach(function(e){t+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_SID_subject_'+e.id+'" ></standard-pass-ont:hasModelComponent>\n'}),t+=n.oneTab+"</owl:NamedIndividual>"},n.generateSIDInfo=function(){var e="",t=n.sidJson.cells.filter(function(e){return"sid.SubjectElement"===e.type}),s=n.sidJson.cells.filter(function(e){return"sid.MessageConnectorElement"===e.type});return e=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SID" >\n'+n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;Layer" ></rdf:type>\n'+n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SID</standard-pass-ont:hasModelComponentID>\n'+n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >SID</standard-pass-ont:hasModelComponentLable>\n',t.forEach(function(t){e+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+t.id+'" ></standard-pass-ont:hasModelComponent>\n'}),s.forEach(function(t){var s=t.customAttrs.sourceToTarget.messageTypes;s.forEach(function(s){e+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" ></standard-pass-ont:hasModelComponent>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_messageConnector_'+n.randomNumber1+"_"+t.id+"_message_"+s.id+'" ></standard-pass-ont:hasModelComponent>\n',n.messages.push({messageId:s.id,messageOwlIdentifier:"SID_messageConnector_"+n.randomNumber1+"_"+t.id+"_message_"+s.id})});var o=t.customAttrs.targetToSource.messageTypes;o.forEach(function(s){e+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" ></standard-pass-ont:hasModelComponent>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_messageConnector_'+n.randomNumber2+"_"+t.id+"_message_"+s.id+'" ></standard-pass-ont:hasModelComponent>\n',n.messages.push({messageId:s.id,messageOwlIdentifier:"SID_messageConnector_"+n.randomNumber2+"_"+t.id+"_message_"+s.id})})}),t.forEach(function(t){e+=n.twoTabs+'<standard-pass-ont:hasModelComponent rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_SID_subject_'+t.id+'" ></standard-pass-ont:hasModelComponent>\n'}),e+=n.oneTab+"</owl:NamedIndividual>"},n.generateSIDElementInfo=function(){var e="",t=n.sidJson.cells.filter(function(e){return"sid.SubjectElement"===e.type}),s=n.sidJson.cells.filter(function(e){return"sid.MessageConnectorElement"===e.type});return t.forEach(function(t){e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+t.id+'" >\n',e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;SingleActor" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SID_subject_'+t.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >'+t.customAttrs.name+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.twoTabs+'<standard-pass-ont:hasBehavior rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_SID_'+t.id+'" ></standard-pass-ont:hasBehavior>\n',e+=n.oneTab+"</owl:NamedIndividual>\n"}),s.forEach(function(t){var s=t.customAttrs.sourceToTarget.messageTypes;s.forEach(function(s){e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" >\n',e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;MessageSpec" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >message_'+s.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >'+s.name+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.oneTab+"</owl:NamedIndividual>\n",e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_messageConnector_'+n.randomNumber1+"_"+t.id+"_message_"+s.id+'" >\n',e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;StandardMessageExchange" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SID_messageConnector_'+n.randomNumber1+"_"+t.id+"_message_"+s.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >Message:'+s.name+" From: SID_subject"+t.source.id+" To: SID_subject"+t.target.id+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.twoTabs+'<standard-pass-ont:hasSender rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+t.source.id+'" ></standard-pass-ont:hasSender>\n',e+=n.twoTabs+'<standard-pass-ont:hasReceiver rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+t.target.id+'" ></standard-pass-ont:hasReceiver>\n',e+=n.twoTabs+'<standard-pass-ont:hasMessageType rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" ></standard-pass-ont:hasMessageType>\n',e+=n.oneTab+"</owl:NamedIndividual>\n"});var o=t.customAttrs.targetToSource.messageTypes;o.forEach(function(s){e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" >\n',e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;MessageSpec" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >message_'+s.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >'+s.name+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.oneTab+"</owl:NamedIndividual>\n",e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_messageConnector_'+n.randomNumber2+"_"+t.id+"_message_"+s.id+'" >\n',e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;StandardMessageExchange" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SID_messageConnector_'+n.randomNumber2+"_"+t.id+"_message_"+s.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >Message:'+s.name+" From: SID_subject"+t.target.id+" To: SID_subject"+t.source.id+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.twoTabs+'<standard-pass-ont:hasSender rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+t.target.id+'" ></standard-pass-ont:hasSender>\n',e+=n.twoTabs+'<standard-pass-ont:hasReceiver rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SID_subject_'+t.source.id+'" ></standard-pass-ont:hasReceiver>\n',e+=n.twoTabs+'<standard-pass-ont:hasMessageType rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#message_'+s.id+'" ></standard-pass-ont:hasMessageType>\n',e+=n.oneTab+"</owl:NamedIndividual>\n"})}),e},n.generateSBDElementInfo=function(){var e="",t=n.sidJson.cells.filter(function(e){return"sid.SubjectElement"===e.type});return t.forEach(function(t){e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_SID_'+t.id+'" >\n',e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;Behavior" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SBD_SID_'+t.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >SBD: '+t.customAttrs.name+"</standard-pass-ont:hasModelComponentLable>\n";var s=n.sbdJsonArray.find(function(e){return e.id===t.id});if("undefined"!=typeof s){var o=s.sbdJson.cells.filter(function(e){return"sbd.ReceiveStateElement"===e.type||"sbd.SendStateElement"===e.type||"sbd.FunctionStateElement"===e.type}),i=s.sbdJson.cells.filter(function(e){return"sbd.FromFunctionStateConnectorElement"===e.type||"sbd.FromSendStateConnectorElement"===e.type||"sbd.FromReceiveStateConnectorElement"===e.type});o.forEach(function(t){t.customAttrs.startState?(e+=n.twoTabs+'<standard-pass-ont:hasInitialState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.id+'" ></standard-pass-ont:hasInitialState>\n',e+=n.twoTabs+'<standard-pass-ont:hasState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.id+'" ></standard-pass-ont:hasState>\n'):t.customAttrs.endState?(e+=n.twoTabs+'<standard-pass-ont:hasEndState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.id+'" ></standard-pass-ont:hasEndState>\n',e+=n.twoTabs+'<standard-pass-ont:hasState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.id+'" ></standard-pass-ont:hasState>\n'):e+=n.twoTabs+'<standard-pass-ont:hasState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.id+'" ></standard-pass-ont:hasState>\n'}),i.forEach(function(t){e+=n.twoTabs+'<standard-pass-ont:hasEdge rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_edge_'+t.id+'" ></standard-pass-ont:hasEdge>\n'})}if(e+=n.oneTab+"</owl:NamedIndividual>\n","undefined"!=typeof s){var o=s.sbdJson.cells.filter(function(e){return"sbd.ReceiveStateElement"===e.type||"sbd.SendStateElement"===e.type||"sbd.FunctionStateElement"===e.type}),i=s.sbdJson.cells.filter(function(e){return"sbd.FromFunctionStateConnectorElement"===e.type||"sbd.FromSendStateConnectorElement"===e.type||"sbd.FromReceiveStateConnectorElement"===e.type});o.forEach(function(t){e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.id+'" >\n',"sbd.SendStateElement"===t.type?e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;SendState" ></rdf:type>\n':"sbd.ReceiveStateElement"===t.type?e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;ReceiveState" ></rdf:type>\n':"sbd.FunctionStateElement"===t.type&&(e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;FunctionState" ></rdf:type>\n'),e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SBD_state_'+t.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >'+t.customAttrs.name+"</standard-pass-ont:hasModelComponentLable>\n",t.customAttrs.startState?e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;InitialState" ></rdf:type>\n':t.customAttrs.endState&&(e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;EndState" ></rdf:type>\n'),e+=n.oneTab+"</owl:NamedIndividual>\n"}),i.forEach(function(t){if(e+=n.oneTab+'<owl:NamedIndividual rdf:about="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_edge_'+t.id+'" >\n',"sbd.FromSendStateConnectorElement"===t.type){e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;SendTransition" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SBD_edge_'+t.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >To: '+t.customAttrs.toSubject.display+" Msg: "+t.customAttrs.toMessage.name+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.twoTabs+'<standard-pass-ont:hasSourceState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.source.id+'" ></standard-pass-ont:hasSourceState>\n',e+=n.twoTabs+'<standard-pass-ont:hasTargetState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.target.id+'" ></standard-pass-ont:hasTargetState>\n';var s=n.messages.find(function(e){return e.messageId===t.customAttrs.toMessage.id});e+=n.twoTabs+'<standard-pass-ont:refersTo rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#'+s.messageOwlIdentifier+'" ></standard-pass-ont:refersTo>\n'}else if("sbd.FromReceiveStateConnectorElement"===t.type){e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;ReceiveTransition" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SBD_edge_'+t.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >From: '+t.customAttrs.fromSubject.display+" Msg: "+t.customAttrs.fromMessage.name+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.twoTabs+'<standard-pass-ont:hasSourceState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.source.id+'" ></standard-pass-ont:hasSourceState>\n',e+=n.twoTabs+'<standard-pass-ont:hasTargetState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.target.id+'" ></standard-pass-ont:hasTargetState>\n';var s=n.messages.find(function(e){return e.messageId===t.customAttrs.fromMessage.id});e+=n.twoTabs+'<standard-pass-ont:refersTo rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#'+s.messageOwlIdentifier+'" ></standard-pass-ont:refersTo>\n'}else"sbd.FromFunctionStateConnectorElement"===t.type&&(e+=n.twoTabs+'<rdf:type rdf:resource="&standard-pass-ont;StandardTransition" ></rdf:type>\n',e+=n.twoTabs+'<standard-pass-ont:hasModelComponentID rdf:datatype="&xsd;string" >SBD_edge_'+t.id+"</standard-pass-ont:hasModelComponentID>\n",e+=n.twoTabs+'<standard-pass-ont:hasModelComponentLable xml:lang="en" >'+t.customAttrs.transitionName+"</standard-pass-ont:hasModelComponentLable>\n",e+=n.twoTabs+'<standard-pass-ont:hasSourceState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.source.id+'" ></standard-pass-ont:hasSourceState>\n',e+=n.twoTabs+'<standard-pass-ont:hasTargetState rdf:resource="http://www.imi.kit.edu/s-bpm/exampleProcess#SBD_state_'+t.target.id+'" ></standard-pass-ont:hasTargetState>\n');e+=n.oneTab+"</owl:NamedIndividual>\n"})}}),e},n.init(),n}e.$inject=["$log","modelerStorage"],angular.module("storage.owlService",[]).factory("owlService",e)}(),function(){"use strict";function e(){function e(e,t,n,s,o,i){var a=this;a.paper=null,a.graph=null,a.selectedView=null,a.currentlySelectedElement=null,a.init=function(){a.selectedView=o.getSelectedView(),a.paper=i.getPaper(),a.graph=i.getGraph(),a.paper.on("cell:pointerdown",function(e,t,n,s){a.isLoading=!0,a.currentlySelectedElement=e.model,a.hideProperties(),a.showProperties()}),a.paper.on("blank:pointerdown",a.hideProperties),a.graph.on("add",function(e){a.isLoading=!0,a.currentlySelectedElement=e,a.hideProperties(),a.showProperties()}),a.graph.on("remove",function(e,t,n){a.hideProperties()})},s.$on("selectedView:changed",function(){a.hideProperties(),a.init()}),s.$on("link:removed",function(){a.hideProperties()}),a.showProperties=function(){t("properties-menu").open()},a.hideProperties=function(){t("properties-menu").close()},a.isSelectedViewSID=function(){return"SID"===a.selectedView?!0:!1},a.handleSidViewProperties=function(){return null!==a.currentlySelectedElement&&"sid.SubjectElement"===a.currentlySelectedElement.attributes.type?!0:!1},a.isState=function(){return null===a.currentlySelectedElement||"sbd.SendStateElement"!==a.currentlySelectedElement.attributes.type&&"sbd.ReceiveStateElement"!==a.currentlySelectedElement.attributes.type&&"sbd.FunctionStateElement"!==a.currentlySelectedElement.attributes.type?!1:!0},a.isFromSendState=function(){return null!==a.currentlySelectedElement&&"sbd.FromSendStateConnectorElement"===a.currentlySelectedElement.attributes.type?!0:!1},a.isFromReceiveState=function(){return null!==a.currentlySelectedElement&&"sbd.FromReceiveStateConnectorElement"===a.currentlySelectedElement.attributes.type?!0:!1},a.isFromFunctionState=function(){return null!==a.currentlySelectedElement&&"sbd.FromFunctionStateConnectorElement"===a.currentlySelectedElement.attributes.type?!0:!1},a.propertiesOpened=function(){return t("properties-menu").isOpen()},a.closeProperties=function(){t("properties-menu").close()},a.init()}e.$inject=["$log","$mdSidenav","$scope","$rootScope","modelerStorage","joint"];var t={restrict:"E",templateUrl:"app/components/directives/properties-menu/properties-menu.template.html",controller:e,controllerAs:"pm",bindToController:!0};return t}angular.module("components.directives").directive("propertiesMenu",e)}(),function(){"use strict";function e(){function e(e,t,n,s,o,i,a,r,d){var c=this;c.selectedView=null,c.init=function(){c.selectedView=a.getSelectedView()},i.$on("selectedView:changed",c.init),c.selectedViewSID=function(){return"SID"===c.selectedView?!0:!1},c.sideNavOpened=function(){return s("navigation-menu").isOpen()},c.toggleSidenav=function(){s("navigation-menu").toggle()},c.downloadOwlFile=function(){_.isEmpty(a.getSidJson().cells)?c.showSimpleToast():c.showDownloadOwlFileDialog()},c.showDownloadOwlFileDialog=function(){var e=n.prompt().title("Enter a process name").textContent("e.g VacationRequest").placeholder("Process name").ariaLabel("Process name").ok("Download").cancel("Cancel");n.show(e).then(function(e){d.downloadOwlFile(e)})},c.showSimpleToast=function(){o.show(o.simple().textContent("The modeled process needs to contain at least one object!").hideDelay(2e3).position("top right"))},c.showNewFileDialog=function(e){var s=n.confirm().title("Would you like to create a new file?").textContent("The changes you made will not be saved.").clickOutsideToClose(!0).targetEvent(e).ok("Confirm").cancel("Cancel");n.show(s).then(function(){a.clear(),t.location.reload()})},c.showViewMessageTypesDialog=function(e){n.show({controller:l,controllerAs:"vmtc",templateUrl:"app/components/directives/navigation-menu/dialog-templates/view-message-types.template.html",targetEvent:e,clickOutsideToClose:!0})};var l=function(){var e=this;e.businessObjects=[],e.init=function(){e.businessObjects=a.getBusinessObjects()},e.cancel=function(){n.cancel()},e.showCreateNewMessageTypeDialog=function(){c.showCreateNewMessageTypeDialog()},e.showUpdateMessageTypeDialog=function(e){c.showUpdateMessageTypeDialog(e)},e.businessObjectsAvailable=function(){return _.isEmpty(e.businessObjects)},e.removeBusinessObject=function(t){a.removeBusinessObject(t),e.init()},e.init()};c.showCreateNewMessageTypeDialog=function(e){n.show({controller:m,controllerAs:"cnmt",templateUrl:"app/components/directives/navigation-menu/dialog-templates/create-new-message-type.template.html",targetEvent:e,clickOutsideToClose:!0})};var m=function(){var e=this;e.newBusinessObject={},e.addBusinessObject=function(){e.newBusinessObject.id=u(),a.addBusinessObject(e.newBusinessObject),i.$broadcast("businessObject:created"),c.showViewMessageTypesDialog()},e.cancel=function(){n.cancel()}},u=function(){return Math.random().toString(36).substr(2,9)};c.showUpdateMessageTypeDialog=function(e){n.show({controller:p,controllerAs:"umt",templateUrl:"app/components/directives/navigation-menu/dialog-templates/update-message-type.template.html",clickOutsideToClose:!0,locals:{businessObject:e}})};var p=function(e){var t=this;t.businessObject={},t.init=function(){t.businessObject={id:e.id,name:e.name}},t.updateBusinessObject=function(){a.addBusinessObject(t.businessObject),c.showViewMessageTypesDialog()},t.cancel=function(){n.cancel(),c.showViewMessageTypesDialog()},t.init()};p.$inject=["businessObject"],c.init()}e.$inject=["$log","$window","$mdDialog","$mdSidenav","$mdToast","$rootScope","modelerStorage","joint","owlService"];var t={restrict:"E",templateUrl:"app/components/directives/navigation-menu/navigation-menu.template.html",controller:e,controllerAs:"nmc",bindToController:!0};return t}angular.module("components.directives").directive("navigationMenu",e)}(),function(){"use strict";function e(){function e(e,t,n,s){var o=this;o.selectedView="",o.selectedSubject={},o.subjectDisplayItem={},o.subjectDisplayItems=[],o.init=function(){o.selectedView=s.getSelectedView(),o.selectedSubject=s.getSelectedSubject(),o.subjectDisplayItems=s.getSubjectDisplayItems(),o.selectedSubjectEmpty()||(o.subjectDisplayItem={id:o.selectedSubject.id,value:o.selectedSubject.customAttrs.name.toLowerCase(),display:o.selectedSubject.customAttrs.name})},n.$on("selectedView:changed",o.init),n.$on("selectedSubject:changed",function(){o.safeApply(o.init)}),o.safeApply=function(e){var n=t.$root.$$phase;"$apply"==n||"$digest"==n?e&&"function"==typeof e&&e():t.$apply(e)},o.changeSelectedView=function(){s.setSelectedView("SID"===s.getSelectedView()?"SBD":"SID"),e.info("fastNavigationMenu - selectedView:changed"),n.$broadcast("selectedView:changed")},o.selectedViewSID=function(){return"SID"===o.selectedView?!0:!1},o.selectedSubjectEmpty=function(){return _.isEmpty(o.selectedSubject)},o.selectedItemChange=function(t){"undefined"!=typeof t&&o.selectedSubject.id!==t.id&&(e.info("fastNavigationMenu - selectedItemChange()"),n.$broadcast("selectedSubject:reselect",{id:t.id}))},o.querySearch=function(e){var t=e?o.subjectDisplayItems.filter(i(e)):o.subjectDisplayItems;return t};var i=function(e){var t=angular.lowercase(e);return function(e){return 0===e.value.indexOf(t)}};o.init()}e.$inject=["$log","$scope","$rootScope","modelerStorage"];var t={restrict:"E",templateUrl:"app/components/directives/fast-navigation-menu/fast-navigation-menu.template.html",controller:e,controllerAs:"fnmc",bindToController:!0};return t}angular.module("components.directives").directive("fastNavigationMenu",e)}(),function(){"use strict";angular.module("sbpmModeler",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","ngMaterial","ang-drag-drop","ngMessages","components.services","components.directives"])}(),function(){"use strict";function e(e,t,n,s,o,i,a){var r=this;r.subjectElementDefaults={},r.sendStateElementDefaults={},r.receiveStateElementDefaults={},r.functionStateElementDefaults={},r.init=function(){n.info("MainController - init()"),r.subjectElementDefaults=a.getSubjectElementDefaults(),r.sendStateElementDefaults=a.getSendStateElementDefaults(),r.receiveStateElementDefaults=a.getReceiveStateElementDefaults(),r.functionStateElementDefaults=a.getFunctionStateElementDefaults(),i.init()},e.$on("paper:created",r.init),e.$on("selectedView:changed",function(e){i.handleViewChange()}),e.$on("selectedSubject:reselect",function(e,t){i.handleSelectedSubjectChange(t.id)}),e.$on("subject:changed",function(e,t){i.handleSubjectUpdate(t)}),e.$on("messageConnector:changed",function(e,t){i.handleMessageConnectorUpdate(t)}),e.$on("state:changed",function(e,t){i.handleStateUpdate(t)}),e.$on("stateTransition:changed",function(e,t){i.handleStateTransitionUpdate(t)}),r.onDrop=function(e,t,n){"subject-element"===t?(r.subjectElementDefaults.position={x:n.originalEvent.x-r.subjectElementDefaults.size.width/2,y:n.originalEvent.y-r.subjectElementDefaults.size.height/2},i.addSubjectElement(r.subjectElementDefaults)):"send-state-element"===t?(r.sendStateElementDefaults.position={x:n.originalEvent.x-r.sendStateElementDefaults.size.width/2,y:n.originalEvent.y-r.sendStateElementDefaults.size.height/2},i.addSendStateElement(r.sendStateElementDefaults)):"receive-state-element"===t?(r.receiveStateElementDefaults.position={x:n.originalEvent.x-r.receiveStateElementDefaults.size.width/2,y:n.originalEvent.y-r.receiveStateElementDefaults.size.height/2},i.addReceiveStateElement(r.receiveStateElementDefaults)):"function-state-element"===t&&(r.functionStateElementDefaults.position={x:n.originalEvent.x-r.functionStateElementDefaults.size.width/2,y:n.originalEvent.y-r.functionStateElementDefaults.size.height/2},i.addFunctionStateElement(r.functionStateElementDefaults))}}e.$inject=["$scope","$rootScope","$log","$window","modelerStorage","joint","jointConfig"],angular.module("sbpmModeler").controller("MainController",e)}(),function(){"use strict";function e(e){}e.$inject=["$log"],angular.module("sbpmModeler").run(e)}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.template.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("sbpmModeler").config(e)}(),function(){"use strict";angular.module("sbpmModeler").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}e.$inject=["$logProvider","toastr"],angular.module("sbpmModeler").config(e)}(),function(){"use strict";angular.module("components.services.uiJoint",["uiJoint.jointWindow","uiJoint.jointConfig","uiJoint.jointGraph","uiJoint.jointPaper","uiJoint.jointDirective","uiJoint.jointService","uiJoint.jointShape"])}(),function(){"use strict";angular.module("components.services.storage",["storage.local","storage.modelerStorage"])}(),function(){"use strict";angular.module("components.services.owl",["storage.owlService"])}(),function(){"use strict";angular.module("components.services",["components.services.owl","components.services.storage","components.services.uiJoint"])}(),angular.module("sbpmModeler").run(["$templateCache",function(e){e.put("app/main/main.template.html",'<div class="container"><div><navigation-menu></navigation-menu></div><div><fast-navigation-menu></fast-navigation-menu></div><div><properties-menu></properties-menu></div><div class="modeler-board" ui-on-drop="main.onDrop(\'modeler-board\', $data, $event)" drag="\'modeler-board\'"><div joint=""></div></div></div>'),e.put("app/components/directives/fast-navigation-menu/fast-navigation-menu.template.html",'<div class="fast-nav" layout="column"><div class="fast-nav-subjects" layout="row" ng-hide="fnmc.selectedViewSID()"><form ng-submit="$event.preventDefault()"><md-autocomplete class="fast-nav-subjects-md-autocomplete" ng-disabled="false" md-no-cache="true" md-selected-item="fnmc.subjectDisplayItem" md-selected-item-change="fnmc.selectedItemChange(item)" md-search-text="fnmc.searchText" md-items="item in fnmc.querySearch(fnmc.searchText)" md-item-text="item.display" md-min-length="0" placeholder="Select a subject"><md-item-template><span md-highlight-text="fnmc.searchText" md-highlight-flags="^i">{{item.display}}</span></md-item-template><md-not-found>No subjects matching "{{fnmc.searchText}}" were found.</md-not-found></md-autocomplete></form></div><div class="fast-nav-views" layout="row" md-whiteframe="1"><md-button class="md-button" ng-class="fnmc.selectedViewSID() ? \'md-raised md-primary\' : \'\'" flex="50" ng-click="fnmc.changeSelectedView()" ng-disabled="fnmc.selectedViewSID() ? true : false">SID</md-button><md-divider></md-divider><md-button class="md-button" flex="50" ng-class="fnmc.selectedViewSID() ? \'\' : \'md-raised md-primary\'" ng-click="fnmc.changeSelectedView()" ng-disabled="fnmc.selectedViewSID() && !fnmc.selectedSubjectEmpty() ? false : true">SBD</md-button></div></div>'),e.put("app/components/directives/navigation-menu/navigation-menu.template.html",'<div class="row"><md-sidenav class="navigation-menu-opened md-navigation-menu" md-is-open="true" md-component-id="navigation-menu" md-whiteframe="4" md-disable-backdrop="false"><md-toolbar class="md-theme-indigo md-toolbar-tools"><div flex="">Pallet</div><md-button class="md-icon-button" ng-click="nmc.toggleSidenav()"><md-icon>menu</md-icon></md-button></md-toolbar><md-content><md-list flex=""><navigation-menu-item item-name="Basic elements"><basic-element-selector></basic-element-selector></navigation-menu-item><navigation-menu-item item-name="Message types"><md-button class="md-button navigation-menu-item-md-button" flex="" ng-click="nmc.showCreateNewMessageTypeDialog()">Create a new message type</md-button><md-button class="md-button navigation-menu-item-md-button" flex="" ng-click="nmc.showViewMessageTypesDialog()">View message types</md-button></navigation-menu-item><navigation-menu-item item-name="Actions"><md-button class="md-button navigation-menu-item-md-button" flex="" ng-click="nmc.showNewFileDialog()"><md-icon>insert_drive_file</md-icon><span>New file</span></md-button><md-button class="md-button navigation-menu-item-md-button" flex="" ng-click="nmc.downloadOwlFile()"><md-icon>file_download</md-icon><span>Save as OWL</span></md-button></navigation-menu-item></md-list></md-content></md-sidenav></div><div class="navigation-menu-closed navigation-menu-closed-toggle" md-whiteframe="4" ng-hide="nmc.sideNavOpened()"><md-toolbar class="md-toolbar-tools"><md-button class="md-icon-button" ng-click="nmc.toggleSidenav()"><md-icon>menu</md-icon></md-button></md-toolbar></div>'),e.put("app/components/directives/properties-menu/properties-menu.template.html",'<md-sidenav class="properties-menu md-sidenav-right" md-is-open="false" md-component-id="properties-menu" id="properties-menu" md-whiteframe="4" md-disable-backdrop="false" layout="column"><md-toolbar class="md-theme-indigo md-toolbar-tools"><div flex="">Properties</div></md-toolbar><md-content layout="column" flex=""><div ng-show="pm.isSelectedViewSID()" flex="" layout="column"><subject-properties layout="column" ng-show="pm.handleSidViewProperties()" flex=""></subject-properties><message-connector-properties layout="column" flex="" ng-hide="pm.handleSidViewProperties()"></message-connector-properties></div><div ng-hide="pm.isSelectedViewSID()" layout="column" flex=""><state-properties layout="column" flex="" ng-show="pm.isState()"></state-properties><from-send-state-properties layout="column" flex="" ng-show="pm.isFromSendState()"></from-send-state-properties><from-receive-state-properties layout="column" flex="" ng-show="pm.isFromReceiveState()"></from-receive-state-properties><from-function-state-properties layout="column" flex="" ng-show="pm.isFromFunctionState()"></from-function-state-properties></div></md-content></md-sidenav>'),e.put("app/components/directives/navigation-menu/dialog-templates/create-new-message-type.template.html",'<md-dialog class="create-new-message-type-dialog" aria-label="New message type"><form name="newMessageType"><div layout="column"><md-toolbar><div class="md-toolbar-tools"><h2>New message type</h2><span flex=""></span><md-button class="md-icon-button" ng-click="cnmt.cancel()"><md-icon aria-label="Close dialog">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label> <input required="" name="name" ng-model="cnmt.newBusinessObject.name"><div ng-messages="newMessageType.name.$error"><div ng-message="required">This is required.</div></div></md-input-container></div></md-dialog-content><md-dialog-actions><md-button class="md-primary md-raised" type="submit" ng-disabled="newMessageType.$invalid" ng-click="cnmt.addBusinessObject()">Create</md-button><md-button class="md-primary md-raised" ng-click="cnmt.cancel()">Close</md-button></md-dialog-actions></div></form></md-dialog>'),e.put("app/components/directives/navigation-menu/dialog-templates/update-message-type.template.html",'<md-dialog class="create-new-message-type-dialog" aria-label="Update message type"><form name="updateMessageType"><div layout="column"><md-toolbar><div class="md-toolbar-tools"><h2>Update message type</h2><span flex=""></span><md-button class="md-icon-button" ng-click="umt.cancel()"><md-icon aria-label="Close dialog">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label> <input required="" name="name" ng-model="umt.businessObject.name"><div ng-messages="updateMessageType.name.$error"><div ng-message="required">This is required.</div></div></md-input-container></div></md-dialog-content><md-dialog-actions><md-button class="md-primary md-raised" type="submit" ng-disabled="updateMessageType.$invalid" ng-click="umt.updateBusinessObject()">Save</md-button><md-button class="md-primary md-raised" ng-click="umt.cancel()">Close</md-button></md-dialog-actions></div></form></md-dialog>'),
e.put("app/components/directives/navigation-menu/dialog-templates/view-message-types.template.html",'<md-dialog class="view-message-types-dialog" aria-label="Message types"><form><div layout="column"><md-toolbar><div class="md-toolbar-tools"><h2>Message types</h2><span flex=""></span><md-button class="md-icon-button" ng-click="vmtc.cancel()"><md-icon aria-label="Close dialog">close</md-icon></md-button></div></md-toolbar><div ng-hide="vmtc.businessObjectsAvailable()"><md-subheader class="md-primary md-no-sticky">Name</md-subheader><md-divider></md-divider></div><md-dialog-content><md-list layout-padding="" ng-hide="vmtc.businessObjectsAvailable()"><md-list-item ng-repeat="bo in vmtc.businessObjects"><p>{{bo.name}}</p><md-icon aria-label="Modify" class="md-secondary md-hue-3" ng-click="vmtc.showUpdateMessageTypeDialog(bo)">edit</md-icon><md-icon class="md-secondary" aria-label="Remove" ng-click="vmtc.removeBusinessObject(bo.id)">delete</md-icon></md-list-item></md-list><div layout-padding="" ng-show="vmtc.businessObjectsAvailable()">No message types available</div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-primary md-raised" ng-click="vmtc.showCreateNewMessageTypeDialog()">Create new</md-button><md-button class="md-primary md-raised" ng-click="vmtc.cancel()">Close</md-button></md-dialog-actions></div></form></md-dialog>'),e.put("app/components/directives/navigation-menu/navigation-menu-item/navigation-menu-item.template.html",'<md-divider></md-divider><md-subheader class="navigation-menu-item-md-subheader md-no-sticky" layout="column"><div layout="row"><span class="navigation-menu-item-md-subheader-text" flex="">{{nmic.itemName}}</span><md-button class="md-icon-button" ng-click="nmic.isOpen = !nmic.isOpen"><md-icon>{{nmic.isOpen ? \'keyboard_arrow_down\' : \'keyboard_arrow_right\'}}</md-icon></md-button></div></md-subheader><md-list-item ng-show="nmic.isOpen"><div layout="column" flex="" ng-transclude=""></div></md-list-item>'),e.put("app/components/directives/navigation-menu/basic-element-selector/basic-element-selector.template.html",'<div class="navigation-menu-basic-element-selector" layout-padding=""><div class="nm-bes-sid" ng-show="bes.selectedViewSID()"><div class="nm-bes-sid-subject" layout="row" ui-draggable="true" drag="\'subject-element\'">Subject</div></div><div class="nm-bes-sbd" ng-hide="bes.selectedViewSID()" layout="column"><div class="nm-bes-sbd-state" layout="row" ui-draggable="true" drag="\'receive-state-element\'"><div>Receive</div><div class="nm-bes-sbd-state-receive"></div></div><div class="nm-bes-sbd-state" layout="row" ui-draggable="true" drag="\'function-state-element\'"><div>Function</div><div class="nm-bes-sbd-state-function"><div class="nm-bes-sbd-state-function-triangle"></div></div></div><div class="nm-bes-sbd-state" layout="row" ui-draggable="true" drag="\'send-state-element\'"><div>Send</div><div class="nm-bes-sbd-state-send"></div></div></div></div>'),e.put("app/components/directives/properties-menu/from-function-state-properties/from-function-state-properties.template.html",'<md-content layout="column" class="from-function-state-properties-form" flex="" layout-padding=""><form name="fromFunctionStatePropertiesForm" layout="column" flex=""><div layout="column" flex=""><md-input-container class="md-block"><label>Name</label> <input required="" name="name" ng-model="ffsp.fromFunctionState.customAttrs.transitionName"><div ng-messages="fromFunctionStatePropertiesForm.name.$error"><div ng-message="required">This is required.</div></div></md-input-container></div><div class="properties-right-footer" layout="row"><md-button class="md-button md-raised md-primary" flex="" type="submit" ng-click="ffsp.saveStateTransitionProperties()" ng-disabled="fromFunctionStatePropertiesForm.$invalid">Save</md-button></div></form></md-content>'),e.put("app/components/directives/properties-menu/from-receive-state-properties/from-receive-state-properties.template.html",'<md-content layout="column" class="from-receive-state-properties-form" flex="" layout-padding=""><form name="fromReceiveStatePropertiesForm" layout="column" flex=""><div layout="column" flex=""><md-input-container><label>Sender of the message</label><md-select required="" name="subject" ng-model="frsp.selectedSubjectName"><md-option ng-repeat="sb in frsp.availableSubjects" ng-value="sb.display" ng-click="frsp.changeSubject(sb)">{{sb.display}}</md-option></md-select><div ng-messages="fromReceiveStatePropertiesForm.subject.$error"><div ng-message="required">This is required.</div></div></md-input-container><md-input-container><label>Message to be receive</label><md-select required="" name="message" ng-model="frsp.selectedMessageName"><md-option ng-repeat="msg in frsp.availableMessageTypes" ng-value="msg.name" ng-click="frsp.changeMessage(msg)">{{msg.name}}</md-option></md-select><div ng-messages="fromReceiveStatePropertiesForm.message.$error"><div ng-message="required">This is required.</div></div></md-input-container></div><div class="properties-right-footer" layout="row"><md-button class="md-button md-raised md-primary" flex="" type="submit" ng-click="frsp.saveStateTransitionProperties()" ng-disabled="fromReceiveStatePropertiesForm.$invalid">Save</md-button></div></form></md-content>'),e.put("app/components/directives/properties-menu/from-send-state-properties/from-send-state-properties.template.html",'<md-content layout="column" class="from-send-state-properties-form" flex="" layout-padding=""><form name="fromSendStatePropertiesForm" layout="column" flex=""><div layout="column" flex=""><md-input-container><label>Receiver of the message</label><md-select required="" name="subject" ng-model="fssp.selectedSubjectName"><md-option ng-repeat="sb in fssp.availableSubjects" ng-value="sb.display" ng-click="fssp.changeSubject(sb)">{{sb.display}}</md-option></md-select><div ng-messages="fromSendStatePropertiesForm.subject.$error"><div ng-message="required">This is required.</div></div></md-input-container><md-input-container><label>Message to be send</label><md-select required="" name="message" ng-model="fssp.selectedMessageName"><md-option ng-repeat="msg in fssp.availableMessageTypes" ng-value="msg.name" ng-click="fssp.changeMessage(msg)">{{msg.name}}</md-option></md-select><div ng-messages="fromSendStatePropertiesForm.message.$error"><div ng-message="required">This is required.</div></div></md-input-container></div><div class="properties-right-footer" layout="row"><md-button class="md-button md-raised md-primary" flex="" type="submit" ng-click="fssp.saveStateTransitionProperties()" ng-disabled="fromSendStatePropertiesForm.$invalid">Save</md-button></div></form></md-content>'),e.put("app/components/directives/properties-menu/message-connector-properties/message-connector-properties.template.html",'<md-content layout="column" class="message-connector-properties-form" flex="" layout-padding=""><form name="messageConnectorPropertiesForm" flex="" layout="column"><div layout="column" flex=""><selection layout="row"><span flex="">Bidirectional</span><md-checkbox ng-model="mcp.messageConnector.customAttrs.isBidirectional" ng-change="mcp.isBidirectionalChanged()"></md-checkbox></selection><md-divider></md-divider><div flex=""><section class="msg-con-pr-unidirectional"><div class="msg-con-pr-unidirectional-from"><div class="msg-con-pr-unidirectional-from-heading">From:</div><div>{{mcp.sourceSubjectName}}</div></div><div class="msg-con-pr-unidirectional-to"><div class="msg-con-pr-unidirectional-to-heading">To:</div><div>{{mcp.targetSubjectName}}</div></div></section><selection layout="column" class="msg-con-pr-unidirectional-message-type"><md-content layout="column"><md-list><md-list-item ng-repeat="stMessageType in mcp.messageConnector.customAttrs.sourceToTarget.messageTypes"><p>{{stMessageType.name}}</p><md-icon class="md-secondary" aria-label="Remove" ng-click="mcp.removeMessageType(true, stMessageType)">delete</md-icon></md-list-item></md-list></md-content><md-button class="md-primary" ng-click="mcp.showSelectMessageTypeDialog(true)">Add message type</md-button></selection></div><md-divider></md-divider><div flex="" ng-show="mcp.messageConnector.customAttrs.isBidirectional"><section class="msg-con-pr-bidirectional"><div class="msg-con-pr-bidirectional-from"><div class="msg-con-pr-bidirectional-from-heading">From:</div><div>{{mcp.targetSubjectName}}</div></div><div class="msg-con-pr-bidirectional-to"><div class="msg-con-pr-bidirectional-to-heading">To:</div><div>{{mcp.sourceSubjectName}}</div></div></section><selection layout="column" class="msg-con-pr-bidirectional-message-type"><md-content layout="column"><md-list><md-list-item ng-repeat="tsMessageType in mcp.messageConnector.customAttrs.targetToSource.messageTypes"><p>{{tsMessageType.name}}</p><md-icon class="md-secondary" aria-label="Remove" ng-click="mcp.removeMessageType(false, tsMessageType)">delete</md-icon></md-list-item></md-list></md-content><md-button class="md-primary" ng-click="mcp.showSelectMessageTypeDialog(false)">Add message type</md-button></selection></div></div><div class="properties-right-footer" layout="row"><md-button class="md-button md-raised md-primary" flex="" type="submit" ng-click="mcp.saveMessageConnectorProperties()" ng-disabled="messageConnectorPropertiesForm.$invalid">Save</md-button></div></form></md-content>'),e.put("app/components/directives/properties-menu/state-properties/state-properties.template.html",'<md-content layout="column" class="state-properties-form" flex="" layout-padding=""><form name="statePropertiesForm" layout="column" flex=""><div layout="column" flex=""><md-input-container class="md-block"><label>Name</label> <input required="" name="name" ng-model="stp.state.customAttrs.name"><div ng-messages="statePropertiesForm.name.$error"><div ng-message="required">This is required.</div></div></md-input-container><selection layout="row"><span flex="">Start state</span><md-checkbox ng-model="stp.state.customAttrs.startState" ng-click="stp.setEndStateToFalse()"></md-checkbox></selection><selection layout="row"><span flex="">End state</span><md-checkbox ng-model="stp.state.customAttrs.endState" ng-click="stp.setStartStateToFalse()"></md-checkbox></selection></div><div class="properties-right-footer" layout="row"><md-button class="md-button md-raised md-primary" flex="" type="submit" ng-click="stp.saveStateProperties()">Save</md-button></div></form></md-content>'),e.put("app/components/directives/properties-menu/subject-properties/subject-properties.template.html",'<md-content layout="column" flex="" class="subject-properties-form" layout-padding=""><form name="subjectPropertiesForm" layout="column" flex=""><div layout="column" flex=""><md-input-container class="md-block"><label>Name</label> <input required="" name="name" ng-model="sbp.subject.customAttrs.name"><div ng-messages="subjectPropertiesForm.name.$error"><div ng-message="required">This is required.</div></div></md-input-container><selection layout="row"><span flex="">Start subject</span><md-checkbox ng-model="sbp.subject.customAttrs.startSubject"></md-checkbox></selection></div><div class="properties-right-footer" layout="row"><md-button class="md-button md-raised md-primary" flex="" type="submit" ng-click="sbp.saveSubjectProperties()" ng-disabled="subjectPropertiesForm.$invalid">Save</md-button></div></form></md-content>'),e.put("app/components/directives/properties-menu/message-connector-properties/dialog-templates/select-message-type.template.html",'<md-dialog class="select-message-type-dialog" aria-label="Select a message type"><div layout="column"><md-toolbar><div class="md-toolbar-tools"><h2>Select a message type</h2><span flex=""></span><md-button class="md-icon-button" ng-click="smt.cancel()"><md-icon aria-label="Close dialog">close</md-icon></md-button></div></md-toolbar><div ng-show="smt.messageTypesAvailable()"><md-subheader class="md-primary md-no-sticky">Name</md-subheader><md-divider></md-divider></div><md-dialog-content><md-list layout-padding="" ng-show="smt.messageTypesAvailable()"><md-list-item ng-repeat="messageType in smt.availableMessageTypes"><p>{{messageType.name}}</p><md-icon class="md-secondary" aria-label="Add" ng-click="smt.addMessageType(messageType)">add</md-icon></md-list-item></md-list><div layout-padding="" ng-hide="smt.messageTypesAvailable()">No message types available</div></md-dialog-content><md-dialog-actions><md-button class="md-primary md-raised" ng-click="smt.cancel()">Close</md-button></md-dialog-actions></div></md-dialog>')}]);